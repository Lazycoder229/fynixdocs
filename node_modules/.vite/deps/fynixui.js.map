{
  "version": 3,
  "sources": ["../../fynixui/dist/context/context.js", "../../fynixui/dist/custom/button.js", "../../fynixui/dist/custom/path.js", "../../fynixui/dist/error/errorOverlay.js", "../../fynixui/dist/hooks/nixState.js", "../../fynixui/dist/hooks/nixAsync.js", "../../fynixui/dist/hooks/nixAsyncCache.js", "../../fynixui/dist/hooks/nixAsyncDebounce.js", "../../fynixui/dist/hooks/nixAsyncQuery.js", "../../fynixui/dist/hooks/nixCallback.js", "../../fynixui/dist/hooks/nixComputed.js", "../../fynixui/dist/hooks/nixDebounce.js", "../../fynixui/dist/hooks/nixEffect.js", "../../fynixui/dist/hooks/nixForm.js", "../../fynixui/dist/hooks/nixFormAsync.js", "../../fynixui/dist/hooks/nixInterval.js", "../../fynixui/dist/hooks/nixLazy.js", "../../fynixui/dist/hooks/nixLazyAsync.js", "../../fynixui/dist/hooks/nixLazyFormAsync.js", "../../fynixui/dist/hooks/nixLocalStorage.js", "../../fynixui/dist/hooks/nixMemo.js", "../../fynixui/dist/hooks/nixPrevious.js", "../../fynixui/dist/hooks/nixRef.js", "../../fynixui/dist/hooks/nixStore.js", "../../fynixui/dist/router/router.js", "../../fynixui/dist/runtime.js", "../../fynixui/dist/hooks/nixFor.js"],
  "sourcesContent": ["export let activeContext = null;\nexport function setActiveContext(ctx) {\n    activeContext = ctx;\n}\n", "import { Fynix } from \"../runtime.js\";\nexport function Button({ value = \"\", ...props }) {\n    return Fynix(\"button\", props, value);\n}\n", "import { Fynix, nixState } from \"../runtime.js\";\nlet propsCounter = 0;\nexport function Path({ to = \"#\", value = \"\", props: routeProps = {}, ...attrs }) {\n    const wrappedProps = {};\n    for (const [k, v] of Object.entries(routeProps)) {\n        wrappedProps[k] = v && v._isNixState ? v : nixState(v);\n    }\n    const propsKey = `fynixProp_${Date.now()}_${propsCounter++}`;\n    if (!window.__fynixLinkProps__) {\n        window.__fynixLinkProps__ = {};\n    }\n    window.__fynixLinkProps__[propsKey] = wrappedProps;\n    const el = Fynix(\"a\", {\n        href: to,\n        \"data-fynix-link\": true,\n        \"data-props-key\": propsKey,\n        ...attrs,\n    }, value);\n    return el;\n}\n", "export function showErrorOverlay(error) {\n    removeErrorOverlay();\n    const overlay = document.createElement(\"div\");\n    overlay.id = \"dev-error-overlay\";\n    Object.assign(overlay.style, {\n        position: \"fixed\",\n        inset: 0,\n        width: \"100%\",\n        height: \"100%\",\n        backgroundColor: \"rgba(0, 0, 0, 0.9)\",\n        color: \"#fff\",\n        fontFamily: \"Consolas, monospace\",\n        padding: \"30px\",\n        zIndex: 99999,\n        overflowY: \"auto\",\n        transition: \"opacity 0.25s ease\",\n        opacity: \"0\",\n    });\n    const container = document.createElement(\"div\");\n    container.style.position = \"relative\";\n    container.style.maxWidth = \"900px\";\n    container.style.margin = \"50px auto\";\n    container.style.background = \"rgba(255, 255, 255, 0.05)\";\n    container.style.borderRadius = \"8px\";\n    container.style.padding = \"20px 30px\";\n    container.style.boxShadow = \"0 0 10px rgba(255, 0, 0, 0.3)\";\n    const closeBtn = document.createElement(\"button\");\n    closeBtn.textContent = \"Ã— Close\";\n    Object.assign(closeBtn.style, {\n        position: \"absolute\",\n        top: \"10px\",\n        right: \"10px\",\n        background: \"#ff5555\",\n        color: \"#fff\",\n        border: \"none\",\n        padding: \"6px 12px\",\n        fontSize: \"16px\",\n        borderRadius: \"4px\",\n        cursor: \"pointer\",\n        zIndex: 10,\n    });\n    closeBtn.addEventListener(\"click\", () => removeErrorOverlay());\n    container.appendChild(closeBtn);\n    const title = document.createElement(\"h1\");\n    title.textContent = \"Runtime Error\";\n    Object.assign(title.style, {\n        color: \"#ff5555\",\n        fontSize: \"24px\",\n        marginBottom: \"10px\",\n    });\n    const message = document.createElement(\"pre\");\n    message.textContent = error?.message || \"Unknown error\";\n    Object.assign(message.style, {\n        whiteSpace: \"pre-wrap\",\n        background: \"rgba(255, 255, 255, 0.1)\",\n        padding: \"10px\",\n        borderRadius: \"6px\",\n        marginTop: \"10px\",\n        color: \"#ffaaaa\",\n    });\n    const stack = document.createElement(\"pre\");\n    stack.textContent = error?.stack || \"\";\n    Object.assign(stack.style, {\n        whiteSpace: \"pre-wrap\",\n        marginTop: \"15px\",\n        color: \"#ccc\",\n    });\n    container.appendChild(title);\n    container.appendChild(message);\n    container.appendChild(stack);\n    overlay.appendChild(container);\n    document.body.appendChild(overlay);\n    requestAnimationFrame(() => {\n        overlay.style.opacity = \"1\";\n    });\n    console.error(\"[FynixJS Runtime Error]\", error);\n}\nexport function removeErrorOverlay() {\n    const existing = document.getElementById(\"dev-error-overlay\");\n    if (existing) {\n        existing.style.opacity = \"0\";\n        setTimeout(() => existing.remove(), 200);\n    }\n}\n", "import { activeContext } from \"../context/context\";\nexport function nixState(initial) {\n    const ctx = activeContext;\n    if (!ctx)\n        throw new Error(\"nixState() called outside component\");\n    const idx = ctx.hookIndex++;\n    if (!ctx.hooks[idx]) {\n        let value = initial;\n        const subscribers = new Set();\n        let isDestroyed = false;\n        if (initial !== null && typeof initial === \"object\") {\n            if (\"__proto__\" in initial ||\n                \"constructor\" in initial ||\n                \"prototype\" in initial) {\n                if (Array.isArray(initial)) {\n                    value = [...initial];\n                }\n                else {\n                    value = { ...initial };\n                    delete value.__proto__;\n                    delete value.constructor;\n                    delete value.prototype;\n                }\n            }\n        }\n        const s = {\n            get value() {\n                if (isDestroyed) {\n                    return value;\n                }\n                if (activeContext && !isDestroyed) {\n                    activeContext._accessedStates.add(s);\n                }\n                return value;\n            },\n            set value(newVal) {\n                if (isDestroyed) {\n                    return;\n                }\n                if (newVal === value)\n                    return;\n                if (newVal !== null && typeof newVal === \"object\") {\n                    if (\"__proto__\" in newVal ||\n                        \"constructor\" in newVal ||\n                        \"prototype\" in newVal) {\n                        if (Array.isArray(newVal)) {\n                            newVal = [...newVal];\n                        }\n                        else {\n                            newVal = { ...newVal };\n                            delete newVal.__proto__;\n                            delete newVal.constructor;\n                            delete newVal.prototype;\n                        }\n                    }\n                }\n                value = newVal;\n                const subsArray = Array.from(subscribers);\n                subsArray.forEach((fn) => {\n                    try {\n                        fn(newVal);\n                    }\n                    catch (err) {\n                        console.error(\"[nixState] Subscriber error:\", err);\n                        subscribers.delete(fn);\n                    }\n                });\n            },\n            subscribe(fn) {\n                if (typeof fn !== \"function\") {\n                    console.error(\"[nixState] subscribe() requires a function\");\n                    return () => { };\n                }\n                if (isDestroyed) {\n                    console.warn(\"[nixState] Cannot subscribe to destroyed state\");\n                    return () => { };\n                }\n                const MAX_SUBSCRIBERS = 1000;\n                if (subscribers.size >= MAX_SUBSCRIBERS) {\n                    console.error(\"[nixState] Maximum subscriber limit reached\");\n                    return () => { };\n                }\n                subscribers.add(fn);\n                return () => {\n                    subscribers.delete(fn);\n                };\n            },\n            cleanup() {\n                if (isDestroyed)\n                    return;\n                isDestroyed = true;\n                subscribers.clear();\n                if (value !== null && typeof value === \"object\") {\n                    if (Array.isArray(value)) {\n                        value = [];\n                    }\n                    else {\n                        value = null;\n                    }\n                }\n                console.log(\"[nixState] State cleaned up\");\n            },\n            getSubscriberCount() {\n                return subscribers.size;\n            },\n            isDestroyed() {\n                return isDestroyed;\n            },\n            asReadOnly() {\n                return {\n                    get value() {\n                        return s.value;\n                    },\n                    subscribe: s.subscribe.bind(s),\n                    _isNixState: true,\n                    _isReadOnly: true,\n                };\n            },\n            _isNixState: true,\n        };\n        ctx.hooks[idx] = s;\n        if (ctx.stateCleanups) {\n            ctx.stateCleanups.push(() => s.cleanup());\n        }\n    }\n    return ctx.hooks[idx];\n}\n", "import { nixState } from \"./nixState\";\nexport function nixAsync(promiseFactory, options = {}) {\n    const { timeout = 30000, retries = 0, autoRun = false } = options;\n    if (typeof promiseFactory !== \"function\") {\n        throw new TypeError(\"[nixAsync] promiseFactory must be a function\");\n    }\n    const data = nixState(null);\n    const error = nixState(null);\n    const loading = nixState(false);\n    let active = true;\n    let controller = null;\n    let callId = 0;\n    let timeoutId = null;\n    let retryCount = 0;\n    const cleanup = () => {\n        active = false;\n        if (controller) {\n            controller.abort();\n            controller = null;\n        }\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n            timeoutId = null;\n        }\n        callId = 0;\n        retryCount = 0;\n    };\n    const run = async () => {\n        if (!active) {\n            console.warn(\"[nixAsync] Attempted to run on destroyed async hook\");\n            return;\n        }\n        if (controller) {\n            controller.abort();\n        }\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        controller = new AbortController();\n        const signal = controller.signal;\n        const currentCallId = ++callId;\n        retryCount = 0;\n        loading.value = true;\n        error.value = null;\n        if (timeout > 0) {\n            timeoutId = setTimeout(() => {\n                if (controller && currentCallId === callId) {\n                    controller.abort();\n                    if (active && currentCallId === callId) {\n                        error.value = new Error(`Request timeout after ${timeout}ms`);\n                        loading.value = false;\n                    }\n                }\n            }, timeout);\n        }\n        try {\n            const result = await promiseFactory(signal);\n            if (!active || currentCallId !== callId || signal.aborted) {\n                return;\n            }\n            data.value = result;\n            retryCount = 0;\n        }\n        catch (e) {\n            if (!active || currentCallId !== callId) {\n                return;\n            }\n            if (signal.aborted) {\n                return;\n            }\n            const errorInstance = e instanceof Error ? e : new Error(String(e));\n            if (retryCount < retries && active && currentCallId === callId) {\n                retryCount++;\n                console.warn(`[nixAsync] Retrying (${retryCount}/${retries}):`, errorInstance.message);\n                const retryDelay = Math.min(1000 * Math.pow(2, retryCount - 1), 10000);\n                setTimeout(() => {\n                    if (active && currentCallId === callId) {\n                        run();\n                    }\n                }, retryDelay);\n                return;\n            }\n            error.value = errorInstance;\n        }\n        finally {\n            if (timeoutId) {\n                clearTimeout(timeoutId);\n                timeoutId = null;\n            }\n            if (active && currentCallId === callId && !signal.aborted) {\n                loading.value = false;\n            }\n        }\n    };\n    const cancel = () => {\n        if (controller) {\n            controller.abort();\n        }\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n            timeoutId = null;\n        }\n        loading.value = false;\n        retryCount = 0;\n    };\n    const getCallId = () => callId;\n    if (autoRun) {\n        setTimeout(() => {\n            if (active)\n                run();\n        }, 0);\n    }\n    return { data, error, loading, run, cancel, cleanup, getCallId };\n}\n", "import { nixState } from \"./nixState\";\nconst asyncCache = new Map();\nconst CACHE_CLEANUP_INTERVAL = 60000;\nlet cacheCleanupTimer = null;\nconst startCacheCleanup = () => {\n    if (cacheCleanupTimer)\n        return;\n    cacheCleanupTimer = setInterval(() => {\n        const now = Date.now();\n        const entries = Array.from(asyncCache.entries());\n        for (const [key, entry] of entries) {\n            if (entry.timestamp && entry.ttl && now - entry.timestamp > entry.ttl) {\n                asyncCache.delete(key);\n            }\n        }\n        if (asyncCache.size === 0 && cacheCleanupTimer) {\n            clearInterval(cacheCleanupTimer);\n            cacheCleanupTimer = null;\n        }\n    }, CACHE_CLEANUP_INTERVAL);\n};\nexport function nixAsyncCached(key, promiseFactory, options = {}) {\n    if (!promiseFactory || typeof promiseFactory !== \"function\") {\n        throw new Error(\"[nixAsyncCache] promiseFactory must be a function\");\n    }\n    if (key == null) {\n        throw new Error(\"[nixAsyncCache] Key cannot be null or undefined\");\n    }\n    if (options.validateKey && !options.validateKey(key)) {\n        throw new Error(\"[nixAsyncCache] Invalid cache key\");\n    }\n    const { ttl = 300000, maxCacheSize = 100 } = options;\n    if (asyncCache.size >= maxCacheSize) {\n        const entries = Array.from(asyncCache.entries());\n        const entriesToRemove = Math.max(1, Math.floor(maxCacheSize * 0.1));\n        for (let i = 0; i < entriesToRemove; i++) {\n            const entry = entries[i];\n            if (entry) {\n                asyncCache.delete(entry[0]);\n            }\n        }\n    }\n    const data = nixState(null);\n    const error = nixState(null);\n    const loading = nixState(false);\n    let active = true;\n    let abortController = null;\n    startCacheCleanup();\n    const run = async () => {\n        if (!active)\n            return;\n        if (abortController) {\n            abortController.abort();\n        }\n        abortController = new AbortController();\n        loading.value = true;\n        error.value = null;\n        try {\n            if (asyncCache.has(key)) {\n                const cached = asyncCache.get(key);\n                const now = Date.now();\n                if (cached.timestamp && now - cached.timestamp > ttl) {\n                    asyncCache.delete(key);\n                }\n                else if (cached.data !== undefined) {\n                    data.value = cached.data;\n                    loading.value = false;\n                    return;\n                }\n                if (cached.promise) {\n                    try {\n                        const result = await cached.promise;\n                        if (!active || abortController?.signal.aborted)\n                            return;\n                        data.value = result;\n                        loading.value = false;\n                        return;\n                    }\n                    catch (e) {\n                        if (!active || abortController?.signal.aborted)\n                            return;\n                        error.value = e;\n                        loading.value = false;\n                        return;\n                    }\n                }\n            }\n            const promise = Promise.resolve().then(() => {\n                if (abortController?.signal.aborted) {\n                    throw new Error(\"Request was aborted\");\n                }\n                return promiseFactory();\n            });\n            asyncCache.set(key, {\n                promise,\n                timestamp: Date.now(),\n                ttl,\n            });\n            const result = await promise;\n            if (!active || abortController?.signal.aborted)\n                return;\n            asyncCache.set(key, {\n                data: result,\n                timestamp: Date.now(),\n                ttl,\n            });\n            data.value = result;\n        }\n        catch (e) {\n            if (asyncCache.has(key)) {\n                const cached = asyncCache.get(key);\n                if (cached.promise && !cached.data) {\n                    asyncCache.delete(key);\n                }\n            }\n            if (!active || abortController?.signal.aborted)\n                return;\n            error.value = e;\n        }\n        finally {\n            if (active && !abortController?.signal.aborted) {\n                loading.value = false;\n            }\n        }\n    };\n    const cancel = () => {\n        active = false;\n        if (abortController) {\n            abortController.abort();\n            abortController = null;\n        }\n    };\n    const clearCache = () => {\n        asyncCache.delete(key);\n    };\n    return { data, error, loading, run, cancel, clearCache };\n}\n", "import { nixState } from \"./nixState\";\nexport function nixAsyncDebounce(promiseFactory, options = {}) {\n    const data = nixState(null);\n    const error = nixState(null);\n    const loading = nixState(false);\n    const { delay = 300, leading = false, trailing = true, maxWait, cache = true, signal, } = options;\n    let lastResult = null;\n    let lastError = null;\n    let timerId = null;\n    let lastInvokeTime = 0;\n    let pendingPromise = null;\n    const invoke = async () => {\n        if (cache && lastResult !== null) {\n            data.value = lastResult;\n            error.value = lastError;\n            loading.value = false;\n            return lastResult;\n        }\n        loading.value = true;\n        error.value = null;\n        const abortController = new AbortController();\n        if (signal) {\n            signal.addEventListener(\"abort\", () => {\n                abortController.abort();\n                cancel();\n            });\n        }\n        pendingPromise = promiseFactory();\n        try {\n            const result = await pendingPromise;\n            lastResult = result;\n            data.value = result;\n            return result;\n        }\n        catch (e) {\n            if (e.name !== \"AbortError\") {\n                lastError = e;\n                error.value = e;\n            }\n            throw e;\n        }\n        finally {\n            loading.value = false;\n            pendingPromise = null;\n            lastInvokeTime = Date.now();\n        }\n    };\n    const run = () => {\n        const now = Date.now();\n        const timeSinceLastInvoke = now - lastInvokeTime;\n        const remainingTime = delay - timeSinceLastInvoke;\n        const shouldInvokeLeading = leading && !timerId;\n        if (maxWait !== undefined && timeSinceLastInvoke >= maxWait) {\n            if (timerId)\n                clearTimeout(timerId);\n            timerId = null;\n            return invoke();\n        }\n        if (timerId)\n            clearTimeout(timerId);\n        if (shouldInvokeLeading)\n            return invoke();\n        if (trailing) {\n            timerId = setTimeout(() => {\n                timerId = null;\n                invoke();\n            }, remainingTime > 0 ? remainingTime : delay);\n        }\n    };\n    const cancel = () => {\n        if (timerId)\n            clearTimeout(timerId);\n        timerId = null;\n        pendingPromise = null;\n    };\n    return { data, error, loading, run, cancel };\n}\n", "import { nixState } from \"./nixState\";\nconst asyncCache = new Map();\nexport function nixAsyncQuery(key, queryFn, options = {}) {\n    const data = nixState(null);\n    const error = nixState(null);\n    const loading = nixState(false);\n    const ttl = options.ttl ?? 0;\n    let active = true;\n    let callId = 0;\n    const run = async () => {\n        const id = ++callId;\n        loading.value = true;\n        error.value = null;\n        const now = Date.now();\n        const cached = asyncCache.get(key);\n        if (cached?.data &&\n            (!ttl ||\n                (typeof cached.timestamp === \"number\" && now - cached.timestamp < ttl))) {\n            data.value = cached.data;\n            loading.value = false;\n            return;\n        }\n        if (cached?.promise) {\n            try {\n                const result = await cached.promise;\n                if (!active || id !== callId)\n                    return;\n                const safeResult = typeof result === \"object\" && result !== null\n                    ? JSON.parse(JSON.stringify(result))\n                    : result;\n                data.value = safeResult;\n            }\n            catch (e) {\n                if (!active || id !== callId)\n                    return;\n                error.value = e instanceof Error ? e : new Error(String(e));\n            }\n            finally {\n                if (active && id === callId)\n                    loading.value = false;\n            }\n            return;\n        }\n        const controller = new AbortController();\n        const promise = (async () => {\n            try {\n                const result = await queryFn(controller.signal);\n                asyncCache.set(key, {\n                    data: result,\n                    timestamp: Date.now(),\n                });\n                return result;\n            }\n            catch (e) {\n                asyncCache.delete(key);\n                throw e instanceof Error ? e : new Error(String(e));\n            }\n        })();\n        asyncCache.set(key, { promise, controller });\n        try {\n            const result = await promise;\n            if (!active || id !== callId)\n                return;\n            const safeResult = typeof result === \"object\" && result !== null\n                ? JSON.parse(JSON.stringify(result))\n                : result;\n            data.value = safeResult;\n        }\n        catch (e) {\n            if (!active || id !== callId)\n                return;\n            error.value = e instanceof Error ? e : new Error(String(e));\n        }\n        finally {\n            if (active && id === callId)\n                loading.value = false;\n        }\n    };\n    const cancel = () => {\n        active = false;\n        const cached = asyncCache.get(key);\n        if (cached?.controller) {\n            cached.controller.abort();\n        }\n    };\n    return { data, error, loading, run, cancel };\n}\n", "import { activeContext } from \"../context/context\";\nexport function nixCallback(fn, deps = []) {\n    const ctx = activeContext;\n    if (!ctx)\n        throw new Error(\"nixCallback() called outside component\");\n    if (typeof fn !== \"function\") {\n        console.error(\"[nixCallback] First argument must be a function\");\n        return fn;\n    }\n    if (!Array.isArray(deps)) {\n        console.error(\"[nixCallback] Second argument must be an array\");\n        deps = [];\n    }\n    const MAX_DEPS = 100;\n    if (deps.length > MAX_DEPS) {\n        console.warn(`[nixCallback] Dependency array too large (${deps.length}). Limited to ${MAX_DEPS}.`);\n        deps = deps.slice(0, MAX_DEPS);\n    }\n    const idx = ctx.hookIndex++;\n    const prev = ctx.hooks[idx];\n    if (!prev || !shallowArrayEqual(prev.deps, deps)) {\n        ctx.hooks[idx] = { value: fn, deps };\n    }\n    return ctx.hooks[idx].value;\n}\nfunction shallowArrayEqual(a, b) {\n    if (a.length !== b.length)\n        return false;\n    for (let i = 0; i < a.length; i++) {\n        if (!Object.is(a[i], b[i]))\n            return false;\n    }\n    return true;\n}\n", "import { activeContext, setActiveContext } from \"../context/context\";\nexport function nixComputed(computeFn) {\n    const ctx = activeContext;\n    if (!ctx)\n        throw new Error(\"nixComputed() called outside component\");\n    if (typeof computeFn !== \"function\") {\n        throw new TypeError(\"[nixComputed] First argument must be a function\");\n    }\n    const idx = ctx.hookIndex++;\n    if (!ctx.hooks[idx]) {\n        const subscribers = new Set();\n        const dependencies = new Set();\n        const unsubscribers = new Map();\n        let cachedValue;\n        let isStale = true;\n        let isDestroyed = false;\n        let isComputing = false;\n        function compute() {\n            if (isDestroyed)\n                return cachedValue;\n            if (isComputing) {\n                console.error(\"[nixComputed] Circular dependency detected\");\n                return cachedValue;\n            }\n            isComputing = true;\n            const trackingContext = {\n                _accessedStates: new Set(),\n                hookIndex: 0,\n                hooks: [],\n                _subscriptions: new Set(),\n                _subscriptionCleanups: [],\n                effects: [],\n                cleanups: [],\n                _vnode: null,\n                version: 0,\n                props: {},\n                stateCleanups: [],\n                parent: null,\n                context: {},\n                rerender: () => { },\n                Component: null,\n                _isMounted: false,\n                _isRerendering: false,\n            };\n            const prevContext = activeContext;\n            try {\n                setActiveContext(trackingContext);\n                cachedValue = computeFn();\n                const oldDeps = Array.from(dependencies);\n                oldDeps.forEach((dep) => {\n                    if (!trackingContext._accessedStates.has(dep)) {\n                        if (unsubscribers.has(dep)) {\n                            try {\n                                unsubscribers.get(dep)();\n                            }\n                            catch (e) {\n                                console.error(\"[nixComputed] Error unsubscribing from old dependency:\", e);\n                            }\n                            unsubscribers.delete(dep);\n                        }\n                        dependencies.delete(dep);\n                    }\n                });\n                trackingContext._accessedStates.forEach((state) => {\n                    if (!dependencies.has(state)) {\n                        const unsub = state.subscribe(() => {\n                            if (isDestroyed)\n                                return;\n                            isStale = true;\n                            const newValue = s.value;\n                            const subsArray = Array.from(subscribers);\n                            subsArray.forEach((fn) => {\n                                try {\n                                    fn(newValue);\n                                }\n                                catch (e) {\n                                    console.error(\"[nixComputed] Subscriber error:\", e);\n                                    subscribers.delete(fn);\n                                }\n                            });\n                        });\n                        unsubscribers.set(state, unsub);\n                        dependencies.add(state);\n                    }\n                });\n                isStale = false;\n            }\n            catch (err) {\n                console.error(\"[nixComputed] Compute error:\", err);\n                isStale = false;\n            }\n            finally {\n                setActiveContext(prevContext);\n                isComputing = false;\n            }\n            return cachedValue;\n        }\n        const s = {\n            get value() {\n                if (isDestroyed) {\n                    console.warn(\"[nixComputed] Accessing destroyed computed state\");\n                    return cachedValue;\n                }\n                if (isStale) {\n                    compute();\n                }\n                if (activeContext && activeContext._accessedStates) {\n                    activeContext._accessedStates.add(s);\n                }\n                return cachedValue;\n            },\n            subscribe(fn) {\n                if (typeof fn !== \"function\") {\n                    console.error(\"[nixComputed] subscribe() requires a function\");\n                    return () => { };\n                }\n                if (isDestroyed) {\n                    console.warn(\"[nixComputed] Cannot subscribe to destroyed computed state\");\n                    return () => { };\n                }\n                const MAX_SUBSCRIBERS = 1000;\n                if (subscribers.size >= MAX_SUBSCRIBERS) {\n                    console.error(\"[nixComputed] Maximum subscriber limit reached\");\n                    return () => { };\n                }\n                subscribers.add(fn);\n                return () => {\n                    subscribers.delete(fn);\n                };\n            },\n            cleanup() {\n                if (isDestroyed)\n                    return;\n                isDestroyed = true;\n                unsubscribers.forEach((unsub) => {\n                    try {\n                        unsub();\n                    }\n                    catch (e) {\n                        console.error(\"[nixComputed] Cleanup error:\", e);\n                    }\n                });\n                unsubscribers.clear();\n                dependencies.clear();\n                subscribers.clear();\n                cachedValue = null;\n                console.log(\"[nixComputed] Computed state cleaned up\");\n            },\n            getSubscriberCount() {\n                return subscribers.size;\n            },\n            getDependencyCount() {\n                return dependencies.size;\n            },\n            isDestroyed() {\n                return isDestroyed;\n            },\n            getDependencyInfo() {\n                return Array.from(dependencies).map((state) => ({\n                    state,\n                    hasCleanup: unsubscribers.has(state),\n                    isComputed: !!state._isComputed,\n                }));\n            },\n            _isNixState: true,\n            _isComputed: true,\n        };\n        compute();\n        ctx.hooks[idx] = s;\n        if (ctx.stateCleanups) {\n            ctx.stateCleanups.push(() => s.cleanup());\n        }\n    }\n    return ctx.hooks[idx];\n}\n", "export function nixDebounce(fn, delay = 300, options = {}) {\n    let timerId = null;\n    let lastInvokeTime = 0;\n    let lastArgs = null;\n    let lastThis = null;\n    const { leading = false, trailing = true, maxWait, signal } = options;\n    if (signal) {\n        signal.addEventListener(\"abort\", () => {\n            if (timerId) {\n                clearTimeout(timerId);\n                timerId = null;\n            }\n            lastArgs = null;\n            lastThis = null;\n        });\n    }\n    const invoke = () => {\n        lastInvokeTime = Date.now();\n        if (lastArgs) {\n            fn.apply(lastThis, lastArgs);\n            lastArgs = lastThis = null;\n        }\n    };\n    const debounced = function (...args) {\n        const now = Date.now();\n        lastArgs = args;\n        lastThis = this;\n        const shouldInvokeLeading = leading && !timerId;\n        const timeSinceLastInvoke = now - lastInvokeTime;\n        const remainingTime = delay - timeSinceLastInvoke;\n        if (maxWait !== undefined && timeSinceLastInvoke >= maxWait) {\n            if (timerId)\n                clearTimeout(timerId);\n            timerId = null;\n            invoke();\n            return;\n        }\n        if (timerId)\n            clearTimeout(timerId);\n        if (shouldInvokeLeading) {\n            invoke();\n        }\n        if (trailing) {\n            timerId = setTimeout(invoke, remainingTime > 0 ? remainingTime : delay);\n        }\n    };\n    debounced.cancel = () => {\n        if (timerId)\n            clearTimeout(timerId);\n        timerId = null;\n        lastArgs = null;\n        lastThis = null;\n    };\n    return debounced;\n}\n", "import { activeContext } from \"../context/context\";\nexport function nixEffect(effect, deps = []) {\n    const ctx = activeContext;\n    if (!ctx)\n        throw new Error(\"nixEffect() called outside component\");\n    if (typeof effect !== \"function\") {\n        console.error(\"[nixEffect] First argument must be a function\");\n        return;\n    }\n    if (!Array.isArray(deps)) {\n        console.error(\"[nixEffect] Second argument must be an array\");\n        deps = [];\n    }\n    const MAX_DEPS = 100;\n    if (deps.length > MAX_DEPS) {\n        console.warn(`[nixEffect] Dependency array too large (${deps.length}). Limited to ${MAX_DEPS}.`);\n        deps = deps.slice(0, MAX_DEPS);\n    }\n    const idx = ctx.hookIndex++;\n    const prev = ctx.hooks[idx];\n    const hasChanged = !prev || !shallowArrayEqual(prev.deps, deps);\n    if (hasChanged) {\n        if (prev?.cleanup) {\n            try {\n                if (typeof prev.cleanup === \"function\") {\n                    prev.cleanup();\n                }\n            }\n            catch (err) {\n                console.error(\"[nixEffect] Cleanup error:\", err);\n            }\n        }\n        let cleanup;\n        try {\n            cleanup = effect();\n            if (cleanup !== undefined && typeof cleanup !== \"function\") {\n                console.warn(\"[nixEffect] Effect should return undefined or a cleanup function\");\n                cleanup = undefined;\n            }\n        }\n        catch (err) {\n            console.error(\"[nixEffect] Effect error:\", err);\n            cleanup = undefined;\n        }\n        ctx.hooks[idx] = { deps, cleanup };\n        if (cleanup && typeof cleanup === \"function\") {\n            if (!ctx.cleanups)\n                ctx.cleanups = [];\n            ctx.cleanups.push(cleanup);\n        }\n    }\n}\nfunction shallowArrayEqual(arr1, arr2) {\n    if (arr1.length !== arr2.length)\n        return false;\n    for (let i = 0; i < arr1.length; i++) {\n        if (!Object.is(arr1[i], arr2[i])) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function nixEffectOnce(effect) {\n    return nixEffect(effect, []);\n}\nexport function nixEffectAlways(effect) {\n    const ctx = activeContext;\n    if (!ctx)\n        throw new Error(\"nixEffectAlways() called outside component\");\n    if (typeof effect !== \"function\") {\n        console.error(\"[nixEffectAlways] Argument must be a function\");\n        return;\n    }\n    return nixEffect(effect, [ctx.version]);\n}\n", "import { nixComputed } from \"./nixComputed.js\";\nimport { nixState } from \"./nixState.js\";\nexport function nixForm(initialValues = {}, validationRules = {}) {\n    const values = nixState({ ...initialValues });\n    const errors = nixState({});\n    const touched = nixState({});\n    const isSubmitting = nixState(false);\n    const isValid = nixComputed(() => Object.keys(errors.value).length === 0);\n    let abortController = null;\n    function validate(fieldName, value) {\n        const rules = validationRules[fieldName];\n        if (!rules)\n            return null;\n        if (rules.required && !value) {\n            return rules.message || `${String(fieldName)} is required`;\n        }\n        if (rules.minLength && value.length < rules.minLength) {\n            return (rules.message ||\n                `${String(fieldName)} must be at least ${rules.minLength} characters`);\n        }\n        if (rules.maxLength && value.length > rules.maxLength) {\n            return (rules.message ||\n                `${String(fieldName)} must be at most ${rules.maxLength} characters`);\n        }\n        if (rules.pattern && !rules.pattern.test(value)) {\n            return rules.message || `${String(fieldName)} is invalid`;\n        }\n        if (rules.custom && !rules.custom(value, values.value)) {\n            return rules.message || `${String(fieldName)} is invalid`;\n        }\n        return null;\n    }\n    function handleChange(fieldName, value) {\n        values.value = { ...values.value, [fieldName]: value };\n        if (touched.value[fieldName]) {\n            const error = validate(fieldName, value);\n            if (error) {\n                errors.value = { ...errors.value, [fieldName]: error };\n            }\n            else {\n                const newErrors = { ...errors.value };\n                delete newErrors[fieldName];\n                errors.value = newErrors;\n            }\n        }\n    }\n    function handleBlur(fieldName) {\n        touched.value = { ...touched.value, [fieldName]: true };\n        const error = validate(fieldName, values.value[fieldName]);\n        if (error) {\n            errors.value = { ...errors.value, [fieldName]: error };\n        }\n    }\n    function validateAll() {\n        const newErrors = {};\n        Object.keys(validationRules).forEach((fieldName) => {\n            const error = validate(fieldName, values.value[fieldName]);\n            if (error)\n                newErrors[fieldName] = error;\n        });\n        errors.value = newErrors;\n        return Object.keys(newErrors).length === 0;\n    }\n    async function handleSubmit(onSubmit) {\n        const allTouched = Object.keys(validationRules).reduce((acc, key) => {\n            acc[key] = true;\n            return acc;\n        }, {});\n        touched.value = allTouched;\n        if (!validateAll())\n            return;\n        if (abortController)\n            abortController.abort();\n        abortController = new AbortController();\n        const signal = abortController.signal;\n        isSubmitting.value = true;\n        try {\n            await onSubmit(values.value, signal);\n        }\n        catch (err) {\n            if (err.name !== \"AbortError\") {\n                console.error(\"[nixForm] Submission error:\", err);\n            }\n        }\n        finally {\n            if (!signal.aborted)\n                isSubmitting.value = false;\n        }\n    }\n    function cancelSubmit() {\n        if (abortController) {\n            abortController.abort();\n            abortController = null;\n        }\n    }\n    function reset() {\n        values.value = { ...initialValues };\n        errors.value = {};\n        touched.value = {};\n        isSubmitting.value = false;\n        cancelSubmit();\n    }\n    function getFieldProps(fieldName) {\n        return {\n            value: values.value[fieldName] || \"\",\n            \"r-input\": (e) => handleChange(fieldName, e.target.value),\n            \"r-blur\": () => handleBlur(fieldName),\n        };\n    }\n    return {\n        values,\n        errors,\n        touched,\n        isSubmitting,\n        isValid,\n        handleChange,\n        handleBlur,\n        handleSubmit,\n        cancelSubmit,\n        reset,\n        getFieldProps,\n    };\n}\n", "import { nixComputed } from \"./nixComputed.js\";\nimport { nixState } from \"./nixState.js\";\nexport function nixFormAsync(initialValues = {}, validationRules = {}, options = {}) {\n    const values = nixState({ ...initialValues });\n    const errors = nixState({});\n    const touched = nixState({});\n    const isSubmitting = nixState(false);\n    const isValid = nixComputed(() => Object.keys(errors.value).length === 0);\n    const { delay = 300, leading = false, trailing = true, maxWait, cache = true, } = options;\n    const data = nixState(null);\n    const error = nixState(null);\n    const loading = nixState(false);\n    let abortController = null;\n    let timerId = null;\n    let lastInvokeTime = 0;\n    let lastResult = null;\n    let lastError = null;\n    let pendingPromise = null;\n    function validate(fieldName, value) {\n        const rules = validationRules[fieldName];\n        if (!rules)\n            return null;\n        if (rules.required && !value)\n            return rules.message || `${String(fieldName)} is required`;\n        if (rules.minLength && value.length < rules.minLength)\n            return (rules.message ||\n                `${String(fieldName)} must be at least ${rules.minLength} characters`);\n        if (rules.maxLength && value.length > rules.maxLength)\n            return (rules.message ||\n                `${String(fieldName)} must be at most ${rules.maxLength} characters`);\n        if (rules.pattern && !rules.pattern.test(value))\n            return rules.message || `${String(fieldName)} is invalid`;\n        if (rules.custom && !rules.custom(value, values.value))\n            return rules.message || `${String(fieldName)} is invalid`;\n        return null;\n    }\n    function handleChange(fieldName, value) {\n        values.value = { ...values.value, [fieldName]: value };\n        if (touched.value[fieldName]) {\n            const err = validate(fieldName, value);\n            if (err)\n                errors.value = { ...errors.value, [fieldName]: err };\n            else {\n                const newErrors = { ...errors.value };\n                delete newErrors[fieldName];\n                errors.value = newErrors;\n            }\n        }\n    }\n    function handleBlur(fieldName) {\n        touched.value = { ...touched.value, [fieldName]: true };\n        const err = validate(fieldName, values.value[fieldName]);\n        if (err)\n            errors.value = { ...errors.value, [fieldName]: err };\n    }\n    function validateAll() {\n        const newErrors = {};\n        Object.keys(validationRules).forEach((fieldName) => {\n            const err = validate(fieldName, values.value[fieldName]);\n            if (err)\n                newErrors[fieldName] = err;\n        });\n        errors.value = newErrors;\n        return Object.keys(newErrors).length === 0;\n    }\n    async function invokeAsync(onSubmit) {\n        if (cache && lastResult !== null) {\n            data.value = lastResult;\n            error.value = lastError;\n            loading.value = false;\n            return lastResult;\n        }\n        if (abortController)\n            abortController.abort();\n        abortController = new AbortController();\n        const signal = abortController.signal;\n        loading.value = true;\n        error.value = null;\n        pendingPromise = onSubmit(values.value, signal);\n        try {\n            const result = await pendingPromise;\n            lastResult = result;\n            data.value = result;\n            return result;\n        }\n        catch (err) {\n            if (err.name !== \"AbortError\") {\n                lastError = err;\n                error.value = err;\n                console.error(\"[nixFormAsync] submit error:\", err);\n            }\n            throw err;\n        }\n        finally {\n            loading.value = false;\n            pendingPromise = null;\n            lastInvokeTime = Date.now();\n        }\n    }\n    function handleSubmit(onSubmit) {\n        if (!validateAll())\n            return;\n        const now = Date.now();\n        const timeSinceLastInvoke = now - lastInvokeTime;\n        const remainingTime = delay - timeSinceLastInvoke;\n        const shouldInvokeLeading = leading && !timerId;\n        if (maxWait !== undefined && timeSinceLastInvoke >= maxWait) {\n            if (timerId)\n                clearTimeout(timerId);\n            timerId = null;\n            void invokeAsync(onSubmit);\n            return;\n        }\n        if (timerId)\n            clearTimeout(timerId);\n        if (shouldInvokeLeading) {\n            void invokeAsync(onSubmit);\n            return;\n        }\n        if (trailing) {\n            timerId = setTimeout(() => {\n                timerId = null;\n                void invokeAsync(onSubmit);\n            }, remainingTime > 0 ? remainingTime : delay);\n        }\n    }\n    function cancelSubmit() {\n        if (abortController) {\n            abortController.abort();\n            abortController = null;\n        }\n        if (timerId)\n            clearTimeout(timerId);\n        timerId = null;\n    }\n    function reset() {\n        values.value = { ...initialValues };\n        errors.value = {};\n        touched.value = {};\n        isSubmitting.value = false;\n        cancelSubmit();\n        data.value = null;\n        error.value = null;\n        loading.value = false;\n    }\n    function getFieldProps(fieldName) {\n        return {\n            value: values.value[fieldName] || \"\",\n            \"r-input\": (e) => handleChange(fieldName, e.target.value),\n            \"r-blur\": () => handleBlur(fieldName),\n        };\n    }\n    return {\n        values,\n        errors,\n        touched,\n        isSubmitting,\n        isValid,\n        data,\n        error,\n        loading,\n        handleChange,\n        handleBlur,\n        handleSubmit,\n        cancelSubmit,\n        reset,\n        getFieldProps,\n    };\n}\n", "export function nixInterval(fn, ms, signal) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"nixInterval: first argument must be a function\");\n    }\n    if (typeof ms !== \"number\" || ms < 0) {\n        throw new TypeError(\"nixInterval: second argument must be a non-negative number\");\n    }\n    const id = setInterval(fn, ms);\n    const cancel = () => clearInterval(id);\n    if (signal) {\n        if (signal.aborted) {\n            cancel();\n        }\n        else {\n            const listener = () => {\n                cancel();\n                signal.removeEventListener(\"abort\", listener);\n            };\n            signal.addEventListener(\"abort\", listener);\n        }\n    }\n    return cancel;\n}\n", "import { activeContext } from \"../context/context.js\";\nimport { nixState } from \"./nixState.js\";\nexport function nixLazy(importFn) {\n    const cache = {\n        status: \"pending\",\n        component: null,\n        error: null,\n        promise: null,\n    };\n    let canceled = false;\n    cache.promise = importFn()\n        .then((module) => {\n        if (!canceled) {\n            cache.status = \"success\";\n            cache.component = module.default || module;\n        }\n    })\n        .catch((err) => {\n        if (!canceled) {\n            cache.status = \"error\";\n            cache.error = err;\n        }\n    });\n    return function LazyWrapper(props) {\n        const ctx = activeContext;\n        if (!ctx)\n            throw new Error(\"nixLazy() called outside component\");\n        if (cache.status === \"pending\") {\n            throw cache.promise;\n        }\n        if (cache.status === \"error\") {\n            throw cache.error;\n        }\n        return cache.component(props);\n    };\n}\nexport function Suspense({ fallback, children, }) {\n    const loading = nixState(false);\n    const error = nixState(null);\n    try {\n        return children();\n    }\n    catch (promise) {\n        if (promise instanceof Promise) {\n            loading.value = true;\n            promise\n                .then(() => {\n                loading.value = false;\n            })\n                .catch((err) => {\n                error.value = err;\n                loading.value = false;\n            });\n            return fallback;\n        }\n        throw promise;\n    }\n}\n", "import { activeContext } from \"../context/context.js\";\nimport { nixState } from \"./nixState.js\";\nexport function nixLazyAsync(importFn, options = {}) {\n    const { retry = 0 } = options;\n    const cache = {\n        status: \"pending\",\n        component: null,\n        error: null,\n        promise: null,\n        retriesLeft: retry,\n    };\n    let canceled = false;\n    const loadModule = () => {\n        cache.promise = importFn()\n            .then((module) => {\n            if (!canceled) {\n                cache.status = \"success\";\n                cache.component = module.default || module;\n            }\n            return cache.component;\n        })\n            .catch((err) => {\n            if (!canceled) {\n                if (cache.retriesLeft > 0) {\n                    cache.retriesLeft--;\n                    return loadModule();\n                }\n                cache.status = \"error\";\n                cache.error = err;\n            }\n            return Promise.reject(cache.error);\n        });\n        return cache.promise;\n    };\n    loadModule();\n    return function LazyWrapper(props) {\n        const ctx = activeContext;\n        if (!ctx)\n            throw new Error(\"nixLazyAsync() called outside component\");\n        if (cache.status === \"pending\") {\n            throw cache.promise;\n        }\n        if (cache.status === \"error\") {\n            throw cache.error;\n        }\n        if (!cache.component) {\n            throw new Error(\"nixLazyAsync: component not loaded\");\n        }\n        return cache.component(props);\n    };\n}\nexport function Suspense({ fallback, children, }) {\n    const loading = nixState(false);\n    const error = nixState(null);\n    try {\n        return children();\n    }\n    catch (promise) {\n        if (promise instanceof Promise) {\n            loading.value = true;\n            promise\n                .then(() => (loading.value = false))\n                .catch((err) => {\n                error.value = err;\n                loading.value = false;\n            });\n            return fallback;\n        }\n        throw promise;\n    }\n}\n", "import { activeContext } from \"../context/context.js\";\nimport { nixComputed } from \"./nixComputed.js\";\nimport { nixState } from \"./nixState.js\";\nexport function nixLazyFormAsync(importFn, formOptions = {}, submitOptions = {}, lazyOptions = {}) {\n    const { initialValues = {}, validationRules = {}, } = formOptions;\n    const { retry = 0 } = lazyOptions;\n    const { delay = 300, leading = false, trailing = true, maxWait, cache = true, } = submitOptions;\n    const lazyCache = {\n        status: \"pending\",\n        component: null,\n        error: null,\n        promise: null,\n        retriesLeft: retry,\n    };\n    let lazyAbortController = new AbortController();\n    let lazyCanceled = false;\n    const loadLazy = () => {\n        lazyCache.promise = importFn()\n            .then((module) => {\n            if (!lazyCanceled) {\n                lazyCache.status = \"success\";\n                lazyCache.component = module.default || module;\n            }\n        })\n            .catch((err) => {\n            if (!lazyCanceled) {\n                if (lazyCache.retriesLeft > 0) {\n                    lazyCache.retriesLeft--;\n                    return loadLazy();\n                }\n                lazyCache.status = \"error\";\n                lazyCache.error = err;\n            }\n            return Promise.reject(err);\n        });\n        return lazyCache.promise;\n    };\n    loadLazy();\n    const cancelLazyLoad = () => {\n        lazyCanceled = true;\n        if (lazyAbortController) {\n            lazyAbortController.abort();\n            lazyAbortController = null;\n        }\n    };\n    const LazyComponentWrapper = (props) => {\n        const ctx = activeContext;\n        if (!ctx)\n            throw new Error(\"nixLazyFormAsync: called outside component\");\n        if (lazyCache.status === \"pending\")\n            throw lazyCache.promise;\n        if (lazyCache.status === \"error\")\n            throw lazyCache.error;\n        return lazyCache.component(props);\n    };\n    const values = nixState({ ...initialValues });\n    const errors = nixState({});\n    const touched = nixState({});\n    const isSubmitting = nixState(false);\n    const isValid = nixComputed(() => Object.keys(errors.value).length === 0);\n    const data = nixState(null);\n    const error = nixState(null);\n    const loading = nixState(false);\n    let abortController = null;\n    let timerId = null;\n    let lastInvokeTime = 0;\n    let lastResult = null;\n    let lastError = null;\n    let pendingPromise = null;\n    function validate(fieldName, value) {\n        const rules = validationRules[fieldName];\n        if (!rules)\n            return null;\n        if (rules.required && !value)\n            return rules.message || `${String(fieldName)} is required`;\n        if (rules.minLength && value.length < rules.minLength)\n            return (rules.message ||\n                `${String(fieldName)} must be at least ${rules.minLength} characters`);\n        if (rules.maxLength && value.length > rules.maxLength)\n            return (rules.message ||\n                `${String(fieldName)} must be at most ${rules.maxLength} characters`);\n        if (rules.pattern && !rules.pattern.test(value))\n            return rules.message || `${String(fieldName)} is invalid`;\n        if (rules.custom && !rules.custom(value, values.value))\n            return rules.message || `${String(fieldName)} is invalid`;\n        return null;\n    }\n    function handleChange(fieldName, value) {\n        values.value = { ...values.value, [fieldName]: value };\n        if (touched.value[fieldName]) {\n            const err = validate(fieldName, value);\n            if (err)\n                errors.value = { ...errors.value, [fieldName]: err };\n            else {\n                const newErrors = { ...errors.value };\n                delete newErrors[fieldName];\n                errors.value = newErrors;\n            }\n        }\n    }\n    function handleBlur(fieldName) {\n        touched.value = { ...touched.value, [fieldName]: true };\n        const err = validate(fieldName, values.value[fieldName]);\n        if (err)\n            errors.value = { ...errors.value, [fieldName]: err };\n    }\n    function validateAll() {\n        const newErrors = {};\n        Object.keys(validationRules).forEach((fieldName) => {\n            const err = validate(fieldName, values.value[fieldName]);\n            if (err)\n                newErrors[fieldName] = err;\n        });\n        errors.value = newErrors;\n        return Object.keys(newErrors).length === 0;\n    }\n    async function invokeAsync(onSubmit) {\n        if (cache && lastResult !== null) {\n            data.value = lastResult ?? null;\n            error.value = lastError ?? null;\n            loading.value = false;\n            return lastResult;\n        }\n        if (abortController)\n            abortController.abort();\n        abortController = new AbortController();\n        const signal = abortController.signal;\n        loading.value = true;\n        error.value = null;\n        pendingPromise = onSubmit(values.value, signal);\n        try {\n            const result = await pendingPromise;\n            lastResult = result;\n            data.value = result ?? null;\n            return result;\n        }\n        catch (err) {\n            if (err.name !== \"AbortError\") {\n                lastError = err;\n                error.value = err;\n            }\n            throw err;\n        }\n        finally {\n            loading.value = false;\n            pendingPromise = null;\n            lastInvokeTime = Date.now();\n        }\n    }\n    function handleSubmit(onSubmit) {\n        if (!validateAll())\n            return;\n        const now = Date.now();\n        const timeSinceLastInvoke = now - lastInvokeTime;\n        const remainingTime = delay - timeSinceLastInvoke;\n        const shouldInvokeLeading = leading && !timerId;\n        if (maxWait !== undefined && timeSinceLastInvoke >= maxWait) {\n            if (timerId)\n                clearTimeout(timerId);\n            timerId = null;\n            void invokeAsync(onSubmit);\n            return;\n        }\n        if (timerId)\n            clearTimeout(timerId);\n        if (shouldInvokeLeading) {\n            void invokeAsync(onSubmit);\n            return;\n        }\n        if (trailing) {\n            timerId = setTimeout(() => {\n                timerId = null;\n                void invokeAsync(onSubmit);\n            }, remainingTime > 0 ? remainingTime : delay);\n        }\n    }\n    function cancelSubmit() {\n        if (abortController) {\n            abortController.abort();\n            abortController = null;\n        }\n        if (timerId)\n            clearTimeout(timerId);\n        timerId = null;\n    }\n    function reset() {\n        values.value = { ...initialValues };\n        errors.value = {};\n        touched.value = {};\n        isSubmitting.value = false;\n        cancelSubmit();\n        cancelLazyLoad();\n        data.value = null;\n        error.value = null;\n        loading.value = false;\n    }\n    function getFieldProps(fieldName) {\n        return {\n            value: values.value[fieldName] || \"\",\n            \"r-input\": (e) => handleChange(fieldName, e.target.value),\n            \"r-blur\": () => handleBlur(fieldName),\n        };\n    }\n    return {\n        LazyComponentWrapper,\n        values,\n        errors,\n        touched,\n        isSubmitting,\n        isValid,\n        data,\n        error,\n        loading,\n        handleChange,\n        handleBlur,\n        handleSubmit,\n        cancelSubmit,\n        reset,\n        getFieldProps,\n    };\n}\n", "import { nixState } from \"./nixState\";\nfunction safeJSONParse(value, fallback) {\n    if (value === null || value === undefined) {\n        return fallback;\n    }\n    try {\n        if (typeof value !== \"string\") {\n            console.warn(\"[nixLocalStorage] Non-string value provided to JSON.parse\");\n            return fallback;\n        }\n        const suspiciousPatterns = [\n            /__proto__/,\n            /constructor/,\n            /prototype/,\n            /function\\s*\\(/,\n            /=>\\s*{/,\n            /javascript:/,\n            /<script/i,\n        ];\n        for (const pattern of suspiciousPatterns) {\n            if (pattern.test(value)) {\n                console.warn(\"[nixLocalStorage] Potentially malicious content detected, using fallback\");\n                return fallback;\n            }\n        }\n        const parsed = JSON.parse(value);\n        if (parsed && typeof parsed === \"object\") {\n            if (parsed.constructor !== Object && parsed.constructor !== Array) {\n                console.warn(\"[nixLocalStorage] Unsafe object constructor detected\");\n                return fallback;\n            }\n        }\n        return parsed;\n    }\n    catch (error) {\n        console.warn(\"[nixLocalStorage] JSON parsing failed:\", error);\n        return fallback;\n    }\n}\nfunction safeJSONStringify(value, maxSize = 1024 * 1024) {\n    try {\n        const stringified = JSON.stringify(value);\n        if (stringified.length > maxSize) {\n            console.warn(\"[nixLocalStorage] Value too large to store:\", stringified.length, \"characters\");\n            return null;\n        }\n        return stringified;\n    }\n    catch (error) {\n        console.warn(\"[nixLocalStorage] JSON stringification failed:\", error);\n        return null;\n    }\n}\nexport function nixLocalStorage(key, initial) {\n    if (!key || typeof key !== \"string\") {\n        throw new Error(\"[nixLocalStorage] Key must be a non-empty string\");\n    }\n    if (key.length > 100) {\n        throw new Error(\"[nixLocalStorage] Key too long (max 100 characters)\");\n    }\n    let initialValue;\n    let isStorageValid = true;\n    try {\n        if (typeof localStorage === \"undefined\") {\n            console.warn(\"[nixLocalStorage] localStorage not available, using in-memory fallback\");\n            isStorageValid = false;\n            initialValue = initial;\n        }\n        else {\n            const stored = localStorage.getItem(key);\n            initialValue = safeJSONParse(stored, initial);\n        }\n    }\n    catch (err) {\n        console.error(`[nixLocalStorage] Error reading key \"${key}\":`, err);\n        initialValue = initial;\n        isStorageValid = false;\n    }\n    const state = nixState(initialValue);\n    const set = (v) => {\n        if (!isStorageValid) {\n            state.value = v;\n            return false;\n        }\n        try {\n            const stringified = safeJSONStringify(v);\n            if (stringified === null) {\n                console.error(`[nixLocalStorage] Failed to stringify value for key \"${key}\"`);\n                return false;\n            }\n            localStorage.setItem(key, stringified);\n            state.value = v;\n            return true;\n        }\n        catch (err) {\n            console.error(`[nixLocalStorage] Error setting key \"${key}\":`, err);\n            state.value = v;\n            return false;\n        }\n    };\n    const clear = () => {\n        try {\n            if (isStorageValid) {\n                localStorage.removeItem(key);\n            }\n            state.value = initial;\n        }\n        catch (err) {\n            console.error(`[nixLocalStorage] Error clearing key \"${key}\":`, err);\n        }\n    };\n    const getSize = () => {\n        try {\n            if (!isStorageValid)\n                return 0;\n            const stored = localStorage.getItem(key);\n            return stored ? stored.length : 0;\n        }\n        catch {\n            return 0;\n        }\n    };\n    const isValid = () => isStorageValid;\n    return {\n        get value() {\n            return state.value;\n        },\n        set value(v) {\n            set(v);\n        },\n        set,\n        clear,\n        getSize,\n        isValid,\n    };\n}\n", "import { activeContext } from \"../context/context\";\nexport function nixMemo(factory, deps = []) {\n    const ctx = activeContext;\n    if (!ctx)\n        throw new Error(\"nixMemo() called outside component\");\n    if (typeof factory !== \"function\") {\n        console.error(\"[nixMemo] First argument must be a function\");\n        return undefined;\n    }\n    if (!Array.isArray(deps)) {\n        console.error(\"[nixMemo] Second argument must be an array\");\n        deps = [];\n    }\n    const idx = ctx.hookIndex++;\n    const prev = ctx.hooks[idx];\n    const hasChanged = !prev ||\n        prev.deps.length !== deps.length ||\n        deps.some((dep, i) => !Object.is(dep, prev.deps[i]));\n    if (hasChanged) {\n        try {\n            const value = factory();\n            ctx.hooks[idx] = { value, deps: [...deps] };\n        }\n        catch (err) {\n            console.error(\"[nixMemo] Factory function error:\", err);\n            ctx.hooks[idx] = { value: undefined, deps: [...deps] };\n        }\n    }\n    return ctx.hooks[idx]?.value;\n}\n", "import { activeContext } from \"../context/context\";\nexport function nixPrevious(val) {\n    const ctx = activeContext;\n    if (!ctx)\n        throw new Error(\"nixPrevious() called outside component\");\n    const idx = ctx.hookIndex++;\n    const prev = ctx.hooks[idx]?.value;\n    try {\n        ctx.hooks[idx] = { value: val };\n    }\n    catch (err) {\n        console.error(\"[nixPrevious] Error storing value:\", err);\n    }\n    return prev;\n}\n", "import { activeContext } from \"../context/context\";\nexport function nixRef(initial = null) {\n    const ctx = activeContext;\n    if (!ctx)\n        throw new Error(\"nixRef() called outside component\");\n    const idx = ctx.hookIndex++;\n    if (!ctx.hooks[idx]) {\n        try {\n            ctx.hooks[idx] = { current: initial };\n        }\n        catch (err) {\n            console.error(\"[nixRef] Error initializing ref:\", err);\n            ctx.hooks[idx] = { current: null };\n        }\n    }\n    return ctx.hooks[idx];\n}\n", "import { activeContext } from \"../context/context\";\nexport function nixStore(path, initial) {\n    if (!path || typeof path !== \"string\") {\n        throw new Error(\"[nixStore] Path must be a non-empty string\");\n    }\n    const dangerousKeys = [\"__proto__\", \"constructor\", \"prototype\"];\n    if (dangerousKeys.some((key) => path.includes(key))) {\n        throw new Error(\"[nixStore] Path contains dangerous keywords\");\n    }\n    if (path.length > 200) {\n        throw new Error(\"[nixStore] Path too long (max 200 characters)\");\n    }\n    const ctx = activeContext;\n    if (!ctx)\n        throw new Error(\"nixStore() called outside component\");\n    const idx = ctx.hookIndex++;\n    if (!ctx.hooks[idx]) {\n        let value = initial;\n        const subscribers = new Set();\n        let isDestroyed = false;\n        let maxSubscribers = 100;\n        const s = {\n            get value() {\n                if (isDestroyed) {\n                    console.warn(\"[nixStore] Accessing destroyed store:\", path);\n                    return value;\n                }\n                try {\n                    if (activeContext?._accessedStates) {\n                        activeContext._accessedStates.add(s);\n                    }\n                }\n                catch (err) {\n                    console.error(\"[nixStore] Error tracking accessed state:\", err);\n                }\n                return value;\n            },\n            set value(v) {\n                if (isDestroyed) {\n                    console.warn(\"[nixStore] Attempting to set value on destroyed store:\", path);\n                    return;\n                }\n                if (v && typeof v === \"object\") {\n                    const safeValue = Object.create(null);\n                    for (const key in v) {\n                        if (Object.prototype.hasOwnProperty.call(v, key) &&\n                            !dangerousKeys.includes(key)) {\n                            safeValue[key] = v[key];\n                        }\n                    }\n                    value = safeValue;\n                }\n                else {\n                    value = v;\n                }\n                const subscriberArray = Array.from(subscribers);\n                subscriberArray.forEach((fn) => {\n                    try {\n                        fn();\n                    }\n                    catch (err) {\n                        console.error(\"[nixStore] Subscriber error:\", err);\n                        subscribers.delete(fn);\n                    }\n                });\n            },\n            subscribe(fn) {\n                if (isDestroyed) {\n                    console.warn(\"[nixStore] Attempting to subscribe to destroyed store:\", path);\n                    return () => { };\n                }\n                if (typeof fn !== \"function\") {\n                    console.error(\"[nixStore] Subscriber must be a function\");\n                    return () => { };\n                }\n                if (subscribers.size >= maxSubscribers) {\n                    console.warn(`[nixStore] Maximum subscribers (${maxSubscribers}) reached for store:`, path);\n                    return () => { };\n                }\n                subscribers.add(fn);\n                return () => {\n                    subscribers.delete(fn);\n                };\n            },\n            cleanup() {\n                if (isDestroyed)\n                    return;\n                isDestroyed = true;\n                subscribers.clear();\n                console.debug(`[nixStore] Cleaned up store: ${path}`);\n            },\n            getSubscriberCount: () => subscribers.size,\n            isDestroyed: () => isDestroyed,\n            path,\n            _isNixState: true,\n        };\n        if (!ctx.cleanups)\n            ctx.cleanups = [];\n        ctx.cleanups.push(() => s.cleanup());\n        ctx.hooks[idx] = s;\n    }\n    return ctx.hooks[idx];\n}\n", "import { mount } from \"../runtime\";\nconst MAX_CACHE_SIZE = 50;\nconst PROPS_NAMESPACE = \"__fynixLinkProps__\";\nconst MAX_LISTENERS = 100;\nconst ALLOWED_PROTOCOLS = [\"http:\", \"https:\", \"\"];\nconst RENDER_DEBOUNCE = 10;\nlet routerInstance = null;\nlet isRouterInitialized = false;\nfunction isExternal(url) {\n    return /^https?:\\/\\//.test(url);\n}\nfunction escapeHTML(str) {\n    if (typeof str !== \"string\")\n        return \"\";\n    return str\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\")\n        .replace(/'/g, \"&#039;\")\n        .replace(/`/g, \"&#96;\")\n        .replace(/\\//g, \"&#x2F;\")\n        .replace(/=/g, \"&#x3D;\")\n        .replace(/\\(/g, \"&#x28;\")\n        .replace(/\\)/g, \"&#x29;\")\n        .replace(/\\{/g, \"&#x7B;\")\n        .replace(/\\}/g, \"&#x7D;\")\n        .replace(/\\[/g, \"&#x5B;\")\n        .replace(/\\]/g, \"&#x5D;\");\n}\nfunction sanitizeContent(content) {\n    return content\n        .replace(/<script[^>]*>.*?<\\/script>/gis, \"\")\n        .replace(/<iframe[^>]*>.*?<\\/iframe>/gis, \"\")\n        .replace(/<object[^>]*>.*?<\\/object>/gis, \"\")\n        .replace(/<embed[^>]*>/gi, \"\")\n        .replace(/<link[^>]*>/gi, \"\")\n        .replace(/on\\w+\\s*=/gi, \"\")\n        .replace(/javascript:/gi, \"\")\n        .replace(/vbscript:/gi, \"\")\n        .replace(/data:/gi, \"\")\n        .replace(/expression\\s*\\(/gi, \"\");\n}\nfunction sanitizeProps(props) {\n    const sanitized = {};\n    for (const [key, value] of Object.entries(props)) {\n        if (typeof key !== \"string\" ||\n            key.startsWith(\"__\") ||\n            key.includes(\"javascript\") ||\n            key.includes(\"on\")) {\n            continue;\n        }\n        if (typeof value === \"string\") {\n            const cleanContent = sanitizeContent(value);\n            sanitized[key] = escapeHTML(cleanContent);\n        }\n        else if (typeof value === \"object\" && value !== null) {\n            if (Object.keys(value).length < 50) {\n                sanitized[key] = sanitizeProps(value);\n            }\n        }\n        else if (typeof value === \"number\" || typeof value === \"boolean\") {\n            sanitized[key] = value;\n        }\n    }\n    return sanitized;\n}\nfunction isValidURL(url) {\n    try {\n        const suspiciousPatterns = [\n            /javascript:/i,\n            /vbscript:/i,\n            /data:/i,\n            /mailto:/i,\n            /tel:/i,\n            /ftp:/i,\n            /file:/i,\n            /%2f%2f/i,\n            /%5c%5c/i,\n            /\\\\\\\\/,\n            /@/,\n        ];\n        if (suspiciousPatterns.some((pattern) => pattern.test(url))) {\n            console.warn(\"[Router] Security: Suspicious URL pattern blocked\");\n            return false;\n        }\n        const parsed = new URL(url, window.location.origin);\n        if (parsed.origin !== window.location.origin) {\n            console.warn(\"[Router] Security: Cross-origin navigation blocked\");\n            return false;\n        }\n        if (!ALLOWED_PROTOCOLS.includes(parsed.protocol)) {\n            console.warn(\"[Router] Security: Dangerous protocol blocked:\", parsed.protocol);\n            return false;\n        }\n        const decodedPath = decodeURIComponent(parsed.pathname);\n        if (decodedPath !== parsed.pathname && /[<>\"'`]/.test(decodedPath)) {\n            console.warn(\"[Router] Security: Encoded XSS attempt blocked\");\n            return false;\n        }\n        if (url.length > 2048) {\n            console.warn(\"[Router] Security: Excessively long URL blocked\");\n            return false;\n        }\n        return true;\n    }\n    catch (e) {\n        console.warn(\"[Router] Security: Invalid URL blocked\");\n        return false;\n    }\n}\nfunction sanitizePath(path) {\n    if (typeof path !== \"string\")\n        return \"/\";\n    try {\n        path = decodeURIComponent(path);\n    }\n    catch (e) {\n        console.warn(\"[Router] Invalid URL encoding in path\");\n        return \"/\";\n    }\n    path = path.replace(/\\0/g, \"\");\n    path = path.replace(/\\\\/g, \"/\");\n    path = path.replace(/\\/+/g, \"/\");\n    path = path\n        .split(\"/\")\n        .filter((part) => part !== \"..\" && part !== \".\")\n        .join(\"/\");\n    if (!path.startsWith(\"/\")) {\n        path = \"/\" + path;\n    }\n    if (path.length > 1 && path.endsWith(\"/\")) {\n        path = path.slice(0, -1);\n    }\n    return path || \"/\";\n}\nfunction tryGlobPaths() {\n    try {\n        let modules = import.meta.glob(\"/src/**/*.{fnx,tsx,jsx,ts,js}\", {\n            eager: true,\n        });\n        if (Object.keys(modules).length === 0) {\n            modules = import.meta.glob([\"./**/*.fnx\", \"./**/*.tsx\", \"./**/*.jsx\", \"./**/*.ts\", \"./**/*.js\"], { eager: true });\n        }\n        if (Object.keys(modules).length === 0) {\n            modules = import.meta.glob([\"../**/*.fnx\", \"../**/*.tsx\", \"../**/*.jsx\"], { eager: true });\n        }\n        return modules || {};\n    }\n    catch (error) {\n        console.error(\"[Router] Failed to load modules:\", error);\n        return {};\n    }\n}\nfunction filePathToRoute(filePath) {\n    let route = filePath\n        .replace(/^.*\\/src/, \"\")\n        .replace(/\\.(ts|tsx|js|jsx|fnx)$/, \"\")\n        .replace(/\\/view$/, \"\")\n        .replace(/\\/$/, \"\");\n    if (!route)\n        route = \"/\";\n    route = route.replace(/\\[([^\\]]+)\\]/g, \":$1\");\n    return route;\n}\nfunction matchDynamicRoute(path, dynamicRoutes) {\n    for (const route of dynamicRoutes) {\n        const match = path.match(route.regex);\n        if (match) {\n            const params = {};\n            route.params.forEach((param, i) => {\n                const matchValue = match[i + 1];\n                params[param] = escapeHTML(matchValue || \"\");\n            });\n            return { component: route.component, params };\n        }\n    }\n    return null;\n}\nfunction deserializeProps(props) {\n    if (!props || typeof props !== \"object\")\n        return {};\n    const deserialized = {};\n    for (const [key, value] of Object.entries(props)) {\n        if (typeof key !== \"string\" || key.startsWith(\"__\")) {\n            continue;\n        }\n        deserialized[key] = value;\n    }\n    return deserialized;\n}\nfunction normalizePath(path) {\n    return sanitizePath(path);\n}\nfunction generateCacheKey() {\n    if (typeof crypto !== \"undefined\" && crypto.randomUUID) {\n        return crypto.randomUUID();\n    }\n    return `${Date.now()}-${Math.random().toString(36).slice(2)}-${Math.random()\n        .toString(36)\n        .slice(2)}`;\n}\nfunction addToCache(cache, key, value) {\n    if (cache.size >= MAX_CACHE_SIZE) {\n        const firstKey = cache.keys().next().value;\n        if (typeof firstKey === \"string\") {\n            const evicted = cache.get(firstKey);\n            if (evicted && typeof evicted === \"object\") {\n                Object.values(evicted).forEach((val) => {\n                    if (val && typeof val === \"object\" && \"cleanup\" in val) {\n                        try {\n                            val.cleanup();\n                        }\n                        catch (e) {\n                        }\n                    }\n                });\n            }\n            cache.delete(firstKey);\n        }\n    }\n    cache.set(key, value);\n}\nconst MANAGED_META = [\n    { key: \"description\", name: \"description\" },\n    { key: \"keywords\", name: \"keywords\" },\n    { key: \"twitterCard\", name: \"twitter:card\" },\n    { key: \"ogTitle\", property: \"og:title\" },\n    { key: \"ogDescription\", property: \"og:description\" },\n    { key: \"ogImage\", property: \"og:image\" },\n];\nfunction updateMetaTags(meta = {}) {\n    if (!meta || typeof meta !== \"object\")\n        return;\n    if (meta.title && typeof meta.title === \"string\") {\n        const sanitizedTitle = escapeHTML(meta.title).substring(0, 60);\n        document.title = sanitizedTitle;\n    }\n    MANAGED_META.forEach((def) => {\n        const value = meta[def.key];\n        const selector = def.name\n            ? `meta[name=\"${CSS.escape(def.name)}\"]`\n            : `meta[property=\"${CSS.escape(def.property || \"\")}\"]`;\n        let el = document.querySelector(selector);\n        if (value == null) {\n            if (el)\n                el.remove();\n            return;\n        }\n        if (typeof value !== \"string\")\n            return;\n        const cleanValue = sanitizeContent(value);\n        const sanitizedValue = escapeHTML(cleanValue).substring(0, 300);\n        if (/javascript:|vbscript:|data:|<|>/i.test(sanitizedValue)) {\n            console.warn(`[Router] Security: Blocked suspicious meta content for ${def.key}`);\n            return;\n        }\n        if (!el) {\n            el = document.createElement(\"meta\");\n            if (def.name)\n                el.setAttribute(\"name\", def.name);\n            if (def.property)\n                el.setAttribute(\"property\", def.property);\n            document.head.appendChild(el);\n        }\n        el.setAttribute(\"content\", sanitizedValue);\n    });\n}\nclass EnterpriseRouter {\n    constructor() {\n        this.routeCache = new Map();\n        this.preloadQueue = new Set();\n        this.routeMatchCache = new Map();\n        this.routes = {};\n    }\n    setRoutes(routes) {\n        if (!routes || typeof routes !== \"object\") {\n            console.warn(\"[EnterpriseRouter] Invalid routes configuration\");\n            return;\n        }\n        this.routes = routes;\n    }\n    async preloadRoute(path) {\n        if (this.routeCache.has(path))\n            return;\n        const route = this.routes[path];\n        if (route?.component) {\n            const loadRoute = async () => {\n                try {\n                    const component = await route.component();\n                    this.routeCache.set(path, component);\n                    route.prefetch?.forEach((prefetchPath) => {\n                        this.preloadQueue.add(prefetchPath);\n                    });\n                    console.log(`[EnterpriseRouter] Preloaded route: ${path}`);\n                }\n                catch (error) {\n                    console.warn(`[EnterpriseRouter] Failed to preload route ${path}:`, error);\n                }\n            };\n            if (\"requestIdleCallback\" in window) {\n                requestIdleCallback(loadRoute);\n            }\n            else {\n                setTimeout(loadRoute, 0);\n            }\n        }\n    }\n    matchRoute(path) {\n        const cached = this.routeMatchCache.get(path);\n        if (cached !== undefined)\n            return cached;\n        const match = this.computeRouteMatch(path);\n        if (this.routeMatchCache.size > 100) {\n            const firstKey = this.routeMatchCache.keys().next().value;\n            if (firstKey !== undefined) {\n                this.routeMatchCache.delete(firstKey);\n            }\n        }\n        this.routeMatchCache.set(path, match);\n        return match;\n    }\n    computeRouteMatch(path) {\n        const segments = path.split(\"/\").filter(Boolean);\n        for (const [routePath, routeConfig] of Object.entries(this.routes)) {\n            const routeSegments = routePath.split(\"/\").filter(Boolean);\n            if (segments.length !== routeSegments.length)\n                continue;\n            const params = {};\n            let isMatch = true;\n            for (let i = 0; i < segments.length; i++) {\n                const segment = segments[i];\n                const routeSegment = routeSegments[i];\n                if (routeSegment && segment) {\n                    if (routeSegment.startsWith(\":\")) {\n                        params[routeSegment.slice(1)] = segment;\n                    }\n                    else if (segment !== routeSegment) {\n                        isMatch = false;\n                        break;\n                    }\n                }\n                else {\n                    isMatch = false;\n                    break;\n                }\n            }\n            if (isMatch) {\n                return {\n                    component: routeConfig.component,\n                    params,\n                    meta: typeof routeConfig.meta === \"function\"\n                        ? routeConfig.meta(params)\n                        : routeConfig.meta,\n                };\n            }\n        }\n        return null;\n    }\n    async checkRouteGuard(route, path, params) {\n        if (!route.guard)\n            return true;\n        if (route.guard.canActivate) {\n            const canActivate = await route.guard.canActivate(path, params);\n            return canActivate;\n        }\n        return true;\n    }\n    getPreloadedComponent(path) {\n        return this.routeCache.get(path);\n    }\n    clearCache() {\n        this.routeCache.clear();\n        this.routeMatchCache.clear();\n        this.preloadQueue.clear();\n    }\n}\nclass LayoutRouter {\n    constructor() {\n        this.layoutCache = new Map();\n        this.keepAliveComponents = new Map();\n    }\n    renderNestedRoutes(routes, segments) {\n        if (segments.length === 0)\n            return null;\n        const [currentSegment, ...remainingSegments] = segments;\n        const currentRoute = routes.find((r) => r.path === currentSegment);\n        if (!currentRoute)\n            return null;\n        let content;\n        if (remainingSegments.length > 0 && currentRoute.children) {\n            content = this.renderNestedRoutes(currentRoute.children, remainingSegments);\n        }\n        else {\n            if (currentRoute.keepAlive && currentSegment) {\n                content = this.renderKeepAlive(currentRoute.component, currentSegment);\n            }\n            else {\n                content = this.renderComponent(currentRoute.component);\n            }\n        }\n        if (currentRoute.layout) {\n            const layoutKey = `${currentSegment}_layout`;\n            let layoutComponent = this.layoutCache.get(layoutKey);\n            if (!layoutComponent) {\n                layoutComponent = this.renderComponent(currentRoute.layout);\n                this.layoutCache.set(layoutKey, layoutComponent);\n            }\n            return this.renderComponent(currentRoute.layout, { children: content });\n        }\n        return content;\n    }\n    renderKeepAlive(component, key) {\n        if (this.keepAliveComponents.has(key)) {\n            return this.keepAliveComponents.get(key);\n        }\n        const rendered = this.renderComponent(component);\n        this.keepAliveComponents.set(key, rendered);\n        return rendered;\n    }\n    renderComponent(component, props = {}) {\n        try {\n            return component(props);\n        }\n        catch (error) {\n            console.error(\"[LayoutRouter] Component render error:\", error);\n            return null;\n        }\n    }\n    cleanup() {\n        this.layoutCache.clear();\n        this.keepAliveComponents.clear();\n    }\n}\nconst enterpriseRouter = new EnterpriseRouter();\nconst layoutRouter = new LayoutRouter();\nfunction createFynix() {\n    const isDevMode = import.meta.hot !== undefined;\n    if (routerInstance && isRouterInitialized && !isDevMode) {\n        console.warn(\"[Router] Router already initialized, returning existing instance\");\n        return routerInstance;\n    }\n    if (isDevMode && routerInstance) {\n        console.log(\"[Router] HMR: Cleaning up old router instance\");\n        routerInstance.cleanup();\n        routerInstance = null;\n        isRouterInitialized = false;\n    }\n    let rootSelector = \"#app-root\";\n    let currentPath = null;\n    let isDestroyed = false;\n    let listenerCount = 0;\n    let renderTimeout = null;\n    let lastNavigationTime = 0;\n    const NAVIGATION_RATE_LIMIT = 100;\n    const listeners = [];\n    if (!window[PROPS_NAMESPACE]) {\n        window[PROPS_NAMESPACE] = {};\n    }\n    if (isDevMode && window.__fynixPropsCache) {\n        window.__fynixPropsCache.clear();\n    }\n    const propsCache = window.__fynixPropsCache || new Map();\n    window.__fynixPropsCache = propsCache;\n    const modules = tryGlobPaths();\n    const routes = {};\n    const dynamicRoutes = [];\n    for (const [filePath, mod] of Object.entries(modules)) {\n        const routePath = filePathToRoute(filePath);\n        let component = undefined;\n        if (mod && typeof mod === \"object\") {\n            if (\"default\" in mod && mod.default) {\n                component = mod.default;\n            }\n            else {\n                const keys = Object.keys(mod);\n                const firstKey = keys.length > 0 ? keys[0] : undefined;\n                if (firstKey !== undefined &&\n                    typeof firstKey === \"string\" &&\n                    typeof mod[firstKey] !== \"undefined\") {\n                    component = mod[firstKey];\n                }\n                else {\n                    const values = Object.values(mod).filter(Boolean);\n                    if (values.length > 0) {\n                        component = values[0];\n                    }\n                }\n            }\n        }\n        if (!component || typeof routePath !== \"string\")\n            continue;\n        const hasDynamic = /:[^/]+/.test(routePath);\n        if (hasDynamic) {\n            dynamicRoutes.push({\n                pattern: routePath,\n                regex: new RegExp(\"^\" + routePath.replace(/:[^/]+/g, \"([^/]+)\") + \"$\"),\n                component,\n                params: [...routePath.matchAll(/:([^/]+)/g)]\n                    .map((m) => m[1])\n                    .filter((p) => typeof p === \"string\"),\n            });\n        }\n        else {\n            routes[routePath] = component;\n        }\n    }\n    async function renderRouteImmediate() {\n        if (isDestroyed)\n            return;\n        const path = normalizePath(window.location.pathname);\n        let Page = routes[path];\n        let params = {};\n        let routeProps = {};\n        const enterpriseMatch = enterpriseRouter.matchRoute(path);\n        if (enterpriseMatch) {\n            const preloadedComponent = enterpriseRouter.getPreloadedComponent(path);\n            if (preloadedComponent) {\n                Page = preloadedComponent;\n            }\n            else {\n                Page = enterpriseMatch.component;\n            }\n            params = enterpriseMatch.params;\n        }\n        if (!Page) {\n            const match = matchDynamicRoute(path, dynamicRoutes);\n            if (match) {\n                Page = match.component;\n                params = match.params;\n            }\n        }\n        const root = document.querySelector(rootSelector);\n        if (!root) {\n            console.error(\"[Router] Root element not found:\", rootSelector);\n            return;\n        }\n        if (!Page) {\n            root.innerHTML = \"\";\n            const container = document.createElement(\"div\");\n            container.style.cssText =\n                \"padding: 2rem; text-align: center; font-family: system-ui, sans-serif;\";\n            const heading = document.createElement(\"h2\");\n            heading.textContent = \"404 Not Found\";\n            heading.style.cssText = \"color: #dc2626; margin-bottom: 1rem;\";\n            const pathInfo = document.createElement(\"p\");\n            const safePath = escapeHTML(sanitizeContent(path));\n            pathInfo.textContent = `Path: ${safePath}`;\n            pathInfo.style.cssText = \"color: #6b7280; margin-bottom: 2rem;\";\n            const backButton = document.createElement(\"button\");\n            backButton.textContent = \"Go Back\";\n            backButton.style.cssText =\n                \"padding: 0.5rem 1rem; background: #3b82f6; color: white; border: none; border-radius: 0.25rem; cursor: pointer;\";\n            backButton.onclick = () => window.history.back();\n            container.appendChild(heading);\n            container.appendChild(pathInfo);\n            container.appendChild(backButton);\n            root.appendChild(container);\n            updateMetaTags({ title: \"404 - Page Not Found\" });\n            [\"/\", \"/home\", \"/about\"].forEach((commonPath) => {\n                enterpriseRouter.preloadRoute(commonPath).catch(console.warn);\n            });\n            return;\n        }\n        const state = (window.history.state || {});\n        let passedProps = {};\n        if (state.__fynixCacheKey && propsCache.has(state.__fynixCacheKey)) {\n            passedProps = propsCache.get(state.__fynixCacheKey);\n        }\n        else if (state.serializedProps) {\n            passedProps = deserializeProps(state.serializedProps);\n        }\n        if (Page.props) {\n            routeProps = typeof Page.props === \"function\" ? Page.props() : Page.props;\n        }\n        if (Page.meta) {\n            const meta = typeof Page.meta === \"function\" ? Page.meta(params) : Page.meta;\n            updateMetaTags(meta);\n        }\n        const unsafeProps = {\n            ...routeProps,\n            ...passedProps,\n            params,\n        };\n        const safeProps = sanitizeProps(unsafeProps);\n        window.__lastRouteProps = safeProps;\n        try {\n            mount(Page, rootSelector, safeProps);\n        }\n        catch (err) {\n            console.error(\"[Router] Mount failed:\", err);\n            root.innerHTML = \"\";\n            const errorDiv = document.createElement(\"pre\");\n            errorDiv.style.color = \"red\";\n            errorDiv.textContent = \"Mount Error occurred\";\n            root.appendChild(errorDiv);\n        }\n        currentPath = path;\n    }\n    function renderRoute() {\n        if (isDestroyed)\n            return;\n        if (renderTimeout) {\n            clearTimeout(renderTimeout);\n        }\n        renderTimeout = setTimeout(async () => {\n            await renderRouteImmediate();\n            renderTimeout = null;\n        }, RENDER_DEBOUNCE);\n    }\n    function navigate(path, props = {}) {\n        if (isDestroyed)\n            return;\n        const now = Date.now();\n        if (now - lastNavigationTime < NAVIGATION_RATE_LIMIT) {\n            console.warn(\"[Router] Security: Navigation rate limited\");\n            return;\n        }\n        lastNavigationTime = now;\n        const normalizedPath = normalizePath(path);\n        if (!isValidURL(window.location.origin + normalizedPath)) {\n            console.error(\"[Router] Invalid navigation URL\");\n            return;\n        }\n        if (normalizedPath === currentPath)\n            return;\n        enterpriseRouter.preloadRoute(normalizedPath).catch(console.warn);\n        const sanitizedProps = sanitizeProps(props);\n        const cacheKey = generateCacheKey();\n        addToCache(propsCache, cacheKey, sanitizedProps);\n        try {\n            window.history.pushState({ __fynixCacheKey: cacheKey }, \"\", normalizedPath);\n            renderRoute();\n        }\n        catch (err) {\n            console.error(\"[Router] Navigation failed:\", err);\n        }\n    }\n    function replace(path, props = {}) {\n        if (isDestroyed)\n            return;\n        const now = Date.now();\n        if (now - lastNavigationTime < NAVIGATION_RATE_LIMIT) {\n            console.warn(\"[Router] Security: Replace rate limited\");\n            return;\n        }\n        lastNavigationTime = now;\n        const normalizedPath = normalizePath(path);\n        if (!isValidURL(window.location.origin + normalizedPath)) {\n            console.error(\"[Router] Invalid replace URL\");\n            return;\n        }\n        const sanitizedProps = sanitizeProps(props);\n        const cacheKey = generateCacheKey();\n        addToCache(propsCache, cacheKey, sanitizedProps);\n        try {\n            window.history.replaceState({ __fynixCacheKey: cacheKey }, \"\", normalizedPath);\n            renderRoute();\n        }\n        catch (err) {\n            console.error(\"[Router] Replace failed:\", err);\n        }\n    }\n    function back() {\n        if (isDestroyed)\n            return;\n        try {\n            window.history.back();\n        }\n        catch (err) {\n            console.error(\"[Router] Back navigation failed:\", err);\n        }\n    }\n    const clickHandler = (e) => {\n        if (isDestroyed)\n            return;\n        const target = e.target;\n        const link = target.closest(\"a[data-fynix-link]\");\n        if (!link)\n            return;\n        const href = link.getAttribute(\"href\");\n        if (!href) {\n            console.warn(\"[Router] Missing href attribute\");\n            return;\n        }\n        if (isExternal(href)) {\n            return;\n        }\n        const fullUrl = new URL(link.href, window.location.origin).href;\n        if (!isValidURL(fullUrl)) {\n            console.warn(\"[Router] Invalid link href\");\n            return;\n        }\n        e.preventDefault();\n        const path = normalizePath(new URL(link.href, window.location.origin).pathname);\n        if (path === currentPath)\n            return;\n        let props = {};\n        const propsKey = link.getAttribute(\"data-props-key\");\n        if (propsKey &&\n            typeof propsKey === \"string\" &&\n            !propsKey.startsWith(\"__\")) {\n            if (window[PROPS_NAMESPACE]?.[propsKey]) {\n                props = window[PROPS_NAMESPACE][propsKey];\n            }\n        }\n        const serializableProps = {};\n        for (const [k, v] of Object.entries(props)) {\n            if (typeof k !== \"string\" || k.startsWith(\"__\"))\n                continue;\n            serializableProps[k] =\n                v && (v._isNixState || v._isRestState) ? v.value : v;\n        }\n        const cacheKey = generateCacheKey();\n        addToCache(propsCache, cacheKey, serializableProps);\n        try {\n            window.history.pushState({ __fynixCacheKey: cacheKey, serializedProps: serializableProps }, \"\", path);\n            renderRoute();\n        }\n        catch (err) {\n            console.error(\"[Router] Link navigation failed:\", err);\n        }\n    };\n    if (listenerCount < MAX_LISTENERS && !isRouterInitialized) {\n        document.addEventListener(\"click\", clickHandler);\n        listeners.push({\n            element: document,\n            event: \"click\",\n            handler: clickHandler,\n        });\n        listenerCount++;\n        window.addEventListener(\"popstate\", renderRoute);\n        listeners.push({\n            element: window,\n            event: \"popstate\",\n            handler: renderRoute,\n        });\n        listenerCount++;\n    }\n    function mountRouter(selector = \"#app-root\") {\n        if (isDestroyed) {\n            console.error(\"[Router] Cannot mount destroyed router\");\n            return;\n        }\n        if (typeof selector !== \"string\" || selector.length === 0) {\n            console.error(\"[Router] Invalid selector\");\n            return;\n        }\n        rootSelector = selector;\n        renderRoute();\n        isRouterInitialized = true;\n    }\n    function cleanup() {\n        if (renderTimeout) {\n            clearTimeout(renderTimeout);\n            renderTimeout = null;\n        }\n        isDestroyed = true;\n        enterpriseRouter.clearCache();\n        layoutRouter.cleanup();\n        listeners.forEach(({ element, event, handler }) => {\n            try {\n                element.removeEventListener(event, handler);\n            }\n            catch (e) {\n                console.error(\"[Router] Cleanup error:\", e);\n            }\n        });\n        listeners.length = 0;\n        listenerCount = 0;\n        propsCache.forEach((props) => {\n            if (props && typeof props === \"object\") {\n                Object.values(props).forEach((val) => {\n                    if (val && typeof val === \"object\" && \"cleanup\" in val) {\n                        try {\n                            val.cleanup();\n                        }\n                        catch (e) {\n                        }\n                    }\n                });\n            }\n        });\n        propsCache.clear();\n        if (window[PROPS_NAMESPACE]) {\n            const ns = window[PROPS_NAMESPACE];\n            if (ns && typeof ns === \"object\") {\n                Object.keys(ns).forEach((key) => {\n                    delete ns[key];\n                });\n            }\n            delete window[PROPS_NAMESPACE];\n        }\n        if (window.__lastRouteProps) {\n            delete window.__lastRouteProps;\n        }\n        isRouterInitialized = false;\n        routerInstance = null;\n        console.log(\"[Router] Cleanup complete\");\n    }\n    if (import.meta.hot) {\n        import.meta.hot.accept(() => {\n            console.log(\"[Router] HMR detected, re-rendering route...\");\n            renderRoute();\n        });\n        import.meta.hot.dispose(() => {\n            console.log(\"[Router] HMR dispose, cleaning up...\");\n            cleanup();\n            routerInstance = null;\n            isRouterInitialized = false;\n        });\n    }\n    const router = {\n        mountRouter,\n        navigate,\n        replace,\n        back,\n        cleanup,\n        routes,\n        dynamicRoutes,\n        preloadRoute: enterpriseRouter.preloadRoute.bind(enterpriseRouter),\n        clearCache: () => {\n            enterpriseRouter.clearCache();\n            layoutRouter.cleanup();\n        },\n        enableNestedRouting: (nestedRoutes) => {\n            router.nestedRoutes = nestedRoutes;\n            console.log(\"[Router] Nested routing enabled with\", nestedRoutes.length, \"routes\");\n        },\n    };\n    routerInstance = router;\n    return router;\n}\nexport { createFynix };\nexport default createFynix;\nexport function setLinkProps(key, props) {\n    if (typeof key !== \"string\" || key.startsWith(\"__\")) {\n        console.error(\"[Router] Invalid props key\");\n        return;\n    }\n    if (!props || typeof props !== \"object\") {\n        console.error(\"[Router] Invalid props object\");\n        return;\n    }\n    if (!window[PROPS_NAMESPACE]) {\n        window[PROPS_NAMESPACE] = {};\n    }\n    if (Object.keys(window[PROPS_NAMESPACE]).length >= MAX_CACHE_SIZE) {\n        console.warn(\"[Router] Props storage limit reached\");\n        return;\n    }\n    window[PROPS_NAMESPACE][key] = props;\n}\nexport function clearLinkProps(key) {\n    if (typeof key !== \"string\")\n        return;\n    if (window[PROPS_NAMESPACE]?.[key]) {\n        const props = window[PROPS_NAMESPACE][key];\n        if (props && typeof props === \"object\") {\n            Object.values(props).forEach((val) => {\n                if (val && typeof val === \"object\" && \"cleanup\" in val) {\n                    try {\n                        val.cleanup();\n                    }\n                    catch (e) {\n                    }\n                }\n            });\n        }\n        delete window[PROPS_NAMESPACE][key];\n    }\n}\n", "import { activeContext, setActiveContext } from \"./context/context\";\nimport { Button, Path } from \"./custom/index\";\nimport { removeErrorOverlay, showErrorOverlay } from \"./error/errorOverlay\";\nimport { nixAsync } from \"./hooks/nixAsync\";\nimport { nixAsyncCached } from \"./hooks/nixAsyncCache\";\nimport { nixAsyncDebounce } from \"./hooks/nixAsyncDebounce\";\nimport { nixAsyncQuery } from \"./hooks/nixAsyncQuery\";\nimport { nixCallback } from \"./hooks/nixCallback\";\nimport { nixComputed } from \"./hooks/nixComputed\";\nimport { nixDebounce } from \"./hooks/nixDebounce\";\nimport { nixEffect, nixEffectAlways, nixEffectOnce } from \"./hooks/nixEffect\";\nimport { nixForm } from \"./hooks/nixForm\";\nimport { nixFormAsync } from \"./hooks/nixFormAsync\";\nimport { nixInterval } from \"./hooks/nixInterval\";\nimport { nixLazy, Suspense } from \"./hooks/nixLazy\";\nimport { nixLazyAsync } from \"./hooks/nixLazyAsync\";\nimport { nixLazyFormAsync } from \"./hooks/nixLazyFormAsync\";\nimport { nixLocalStorage } from \"./hooks/nixLocalStorage\";\nimport { nixMemo } from \"./hooks/nixMemo\";\nimport { nixPrevious } from \"./hooks/nixPrevious\";\nimport { nixRef } from \"./hooks/nixRef\";\nimport { nixState } from \"./hooks/nixState\";\nimport { nixStore } from \"./hooks/nixStore\";\nimport createFynix from \"./router/router\";\nclass SimplePriorityQueue {\n    constructor() {\n        this.items = [];\n        this.priorityOrder = {\n            immediate: 0,\n            high: 1,\n            normal: 2,\n            low: 3,\n            idle: 4,\n        };\n    }\n    push(item, priority) {\n        this.items.push({ item, priority });\n        this.items.sort((a, b) => this.priorityOrder[a.priority] - this.priorityOrder[b.priority]);\n    }\n    pop() {\n        return this.items.shift()?.item;\n    }\n    peek() {\n        return this.items[0]?.item;\n    }\n    size() {\n        return this.items.length;\n    }\n    isEmpty() {\n        return this.items.length === 0;\n    }\n}\nclass FynixScheduler {\n    constructor() {\n        this.updateQueue = new SimplePriorityQueue();\n        this.batchedUpdates = new Set();\n        this.isScheduled = false;\n        this.isWorking = false;\n        this.currentPriority = \"normal\";\n        this.updateIdCounter = 0;\n    }\n    schedule(update, priority = \"normal\") {\n        update.id = `update_${this.updateIdCounter++}`;\n        update.priority = priority;\n        update.timestamp = performance.now();\n        if (priority === \"immediate\") {\n            this.flushUpdate(update);\n        }\n        else {\n            this.updateQueue.push(update, priority);\n            this.scheduleWork();\n        }\n    }\n    batchUpdates(updates) {\n        updates.forEach((update) => this.batchedUpdates.add(update));\n        this.scheduleWork();\n    }\n    timeSlice(deadline) {\n        const startTime = performance.now();\n        const previousPriority = this.currentPriority;\n        while (!this.updateQueue.isEmpty() &&\n            performance.now() - startTime < deadline) {\n            const update = this.updateQueue.pop();\n            if (update) {\n                if (this.shouldYield() && update.priority !== \"immediate\") {\n                    this.updateQueue.push(update, update.priority);\n                    break;\n                }\n                this.flushUpdate(update);\n            }\n        }\n        this.currentPriority = previousPriority;\n        return this.updateQueue.isEmpty();\n    }\n    flush() {\n        if (this.isWorking)\n            return;\n        this.isWorking = true;\n        try {\n            while (!this.updateQueue.isEmpty()) {\n                const update = this.updateQueue.peek();\n                if (update && update.priority === \"immediate\") {\n                    this.flushUpdate(this.updateQueue.pop());\n                }\n                else {\n                    break;\n                }\n            }\n            this.batchedUpdates.forEach((update) => this.flushUpdate(update));\n            this.batchedUpdates.clear();\n        }\n        finally {\n            this.isWorking = false;\n            this.isScheduled = false;\n        }\n    }\n    flushUpdate(update) {\n        const previousPriority = this.currentPriority;\n        this.currentPriority = update.priority;\n        try {\n            update.callback();\n        }\n        catch (error) {\n            console.error(\"[FynixScheduler] Update error:\", error);\n            showErrorOverlay(error);\n        }\n        finally {\n            this.currentPriority = previousPriority;\n        }\n    }\n    scheduleWork() {\n        if (this.isScheduled)\n            return;\n        this.isScheduled = true;\n        const nextUpdate = this.updateQueue.peek();\n        if (nextUpdate) {\n            if (nextUpdate.priority === \"high\") {\n                requestAnimationFrame(() => this.workLoop(16.67));\n            }\n            else {\n                if (\"requestIdleCallback\" in window) {\n                    requestIdleCallback((deadline) => {\n                        this.workLoop(deadline.timeRemaining());\n                    });\n                }\n                else {\n                    setTimeout(() => this.workLoop(5), 0);\n                }\n            }\n        }\n    }\n    workLoop(deadline) {\n        const hasMoreWork = !this.timeSlice(deadline);\n        if (hasMoreWork) {\n            this.isScheduled = false;\n            this.scheduleWork();\n        }\n        else {\n            this.flush();\n        }\n    }\n    getCurrentPriority() {\n        return this.currentPriority;\n    }\n    shouldYield() {\n        const nextUpdate = this.updateQueue.peek();\n        if (!nextUpdate)\n            return false;\n        const currentPriorityLevel = this.getPriorityLevel(this.currentPriority);\n        const nextPriorityLevel = this.getPriorityLevel(nextUpdate.priority);\n        return nextPriorityLevel < currentPriorityLevel;\n    }\n    getPriorityLevel(priority) {\n        const levels = { immediate: 0, high: 1, normal: 2, low: 3, idle: 4 };\n        return levels[priority];\n    }\n}\nconst scheduler = new FynixScheduler();\nclass FiberRenderer {\n    constructor() {\n        this.workInProgressRoot = null;\n        this.nextUnitOfWork = null;\n        this.currentRoot = null;\n        this.deletions = [];\n    }\n    scheduleWork(fiber) {\n        this.workInProgressRoot = {\n            ...fiber,\n            alternate: this.currentRoot,\n        };\n        this.nextUnitOfWork = this.workInProgressRoot;\n        this.deletions = [];\n        scheduler.schedule({\n            id: \"\",\n            type: \"layout\",\n            priority: \"high\",\n            callback: () => this.workLoop(5),\n            timestamp: performance.now(),\n        }, \"high\");\n    }\n    workLoop(deadline) {\n        const startTime = performance.now();\n        while (this.nextUnitOfWork && performance.now() - startTime < deadline) {\n            this.nextUnitOfWork = this.performUnitOfWork(this.nextUnitOfWork);\n        }\n        if (!this.nextUnitOfWork && this.workInProgressRoot) {\n            this.commitRoot();\n        }\n        else if (this.nextUnitOfWork) {\n            scheduler.schedule({\n                id: \"\",\n                type: \"layout\",\n                priority: \"normal\",\n                callback: () => this.workLoop(5),\n                timestamp: performance.now(),\n            }, \"normal\");\n        }\n    }\n    performUnitOfWork(fiber) {\n        this.reconcileChildren(fiber, fiber.props?.children || []);\n        if (fiber.child) {\n            return fiber.child;\n        }\n        let nextFiber = fiber;\n        while (nextFiber) {\n            if (nextFiber.sibling) {\n                return nextFiber.sibling;\n            }\n            nextFiber = nextFiber.parent;\n        }\n        return null;\n    }\n    reconcileChildren(wipFiber, elements) {\n        let index = 0;\n        let oldFiber = wipFiber.alternate?.child;\n        let prevSibling = null;\n        while (index < elements.length || oldFiber != null) {\n            const element = elements[index];\n            let newFiber = null;\n            const sameType = oldFiber && element && element.type === oldFiber.type;\n            if (sameType && oldFiber) {\n                newFiber = {\n                    type: oldFiber.type,\n                    props: element.props,\n                    key: element.key,\n                    _domNode: oldFiber._domNode,\n                    parent: wipFiber,\n                    alternate: oldFiber,\n                    effectTag: \"UPDATE\",\n                    updatePriority: \"normal\",\n                    child: null,\n                    sibling: null,\n                    _rendered: null,\n                };\n            }\n            if (element && !sameType) {\n                newFiber = {\n                    type: element.type,\n                    props: element.props,\n                    key: element.key,\n                    _domNode: null,\n                    parent: wipFiber,\n                    alternate: null,\n                    effectTag: \"PLACEMENT\",\n                    updatePriority: \"normal\",\n                    child: null,\n                    sibling: null,\n                    _rendered: null,\n                };\n            }\n            if (oldFiber && !sameType) {\n                oldFiber.effectTag = \"DELETION\";\n                this.deletions.push(oldFiber);\n            }\n            if (oldFiber) {\n                oldFiber = oldFiber.sibling;\n            }\n            if (index === 0) {\n                wipFiber.child = newFiber;\n            }\n            else if (newFiber && prevSibling) {\n                prevSibling.sibling = newFiber;\n            }\n            prevSibling = newFiber;\n            index++;\n        }\n    }\n    commitRoot() {\n        this.deletions.forEach((fiber) => this.commitWork(fiber));\n        if (this.workInProgressRoot?.child) {\n            this.commitWork(this.workInProgressRoot.child);\n        }\n        this.currentRoot = this.workInProgressRoot;\n        this.workInProgressRoot = null;\n    }\n    commitWork(fiber) {\n        if (!fiber)\n            return;\n        let domParentFiber = fiber.parent;\n        while (!domParentFiber?._domNode) {\n            domParentFiber = domParentFiber?.parent || null;\n        }\n        const domParent = domParentFiber?._domNode;\n        if (fiber.effectTag === \"PLACEMENT\" && fiber._domNode && domParent) {\n            domParent.appendChild(fiber._domNode);\n        }\n        else if (fiber.effectTag === \"UPDATE\" && fiber._domNode) {\n            this.updateDom(fiber._domNode, fiber.alternate?.props || {}, fiber.props);\n        }\n        else if (fiber.effectTag === \"DELETION\" && domParent) {\n            this.commitDeletion(fiber, domParent);\n        }\n        this.commitWork(fiber.child);\n        this.commitWork(fiber.sibling);\n    }\n    commitDeletion(fiber, domParent) {\n        if (fiber._domNode) {\n            domParent.removeChild(fiber._domNode);\n        }\n        else if (fiber.child) {\n            this.commitDeletion(fiber.child, domParent);\n        }\n    }\n    updateDom(dom, prevProps, nextProps) {\n        Object.keys(prevProps)\n            .filter((key) => key !== \"children\" && !(key in nextProps))\n            .forEach((name) => {\n            if (name.startsWith(\"on\")) {\n                const eventType = name.toLowerCase().substring(2);\n                dom.removeEventListener(eventType, prevProps[name]);\n            }\n            else {\n                dom[name] = \"\";\n            }\n        });\n        Object.keys(nextProps)\n            .filter((key) => key !== \"children\")\n            .forEach((name) => {\n            if (prevProps[name] !== nextProps[name]) {\n                if (name.startsWith(\"on\")) {\n                    const eventType = name.toLowerCase().substring(2);\n                    dom.addEventListener(eventType, nextProps[name]);\n                }\n                else {\n                    dom[name] = nextProps[name];\n                }\n            }\n        });\n    }\n}\nconst fiberRenderer = new FiberRenderer();\nexport function useFiberRenderer() {\n    return fiberRenderer;\n}\nclass HierarchicalStore {\n    constructor() {\n        this.root = new Map();\n        this.selectorCache = new Map();\n        this.stateSnapshot = {};\n    }\n    select(selector) {\n        const selectorKey = selector.toString();\n        if (this.selectorCache.has(selectorKey)) {\n            return this.selectorCache.get(selectorKey);\n        }\n        const result = selector(this.getState());\n        this.selectorCache.set(selectorKey, result);\n        return result;\n    }\n    optimisticUpdate(path, update, rollback) {\n        const original = this.get(path);\n        this.set(path, update);\n        return {\n            commit: () => this.clearRollback(path),\n            rollback: () => {\n                this.set(path, original);\n                rollback?.();\n            },\n        };\n    }\n    getState() {\n        return this.stateSnapshot;\n    }\n    get(path) {\n        return this.root.get(path)?.value;\n    }\n    set(path, value) {\n        const node = this.root.get(path);\n        if (node) {\n            node.value = value;\n            this.stateSnapshot = { ...this.stateSnapshot, [path]: value };\n            this.invalidateSelectors();\n        }\n    }\n    clearRollback(path) {\n        console.log(`[HierarchicalStore] Optimistic update committed for path: ${path}`);\n    }\n    invalidateSelectors() {\n        this.selectorCache.clear();\n    }\n}\nconst hierarchicalStore = new HierarchicalStore();\nexport function useHierarchicalStore() {\n    return hierarchicalStore;\n}\nexport const TEXT = Symbol(\"text\");\nexport const Fragment = Symbol(\"Fragment\");\nconst BOOLEAN_ATTRS = new Set([\n    \"checked\",\n    \"selected\",\n    \"disabled\",\n    \"readonly\",\n    \"multiple\",\n    \"autoplay\",\n    \"controls\",\n    \"loop\",\n    \"muted\",\n    \"open\",\n    \"required\",\n    \"reversed\",\n    \"scoped\",\n    \"seamless\",\n    \"autofocus\",\n    \"novalidate\",\n    \"formnovalidate\",\n]);\nconst DOM_PROPERTIES = new Set([\n    \"value\",\n    \"checked\",\n    \"selected\",\n    \"selectedIndex\",\n    \"innerHTML\",\n    \"textContent\",\n    \"innerText\",\n]);\nconst DANGEROUS_HTML_PROPS = new Set([\n    \"innerHTML\",\n    \"outerHTML\",\n    \"insertAdjacentHTML\",\n    \"srcdoc\",\n]);\nconst DANGEROUS_PROTOCOLS = new Set([\n    \"javascript:\",\n    \"data:\",\n    \"vbscript:\",\n    \"file:\",\n    \"about:\",\n]);\nconst SAFE_PROTOCOLS = new Set([\n    \"http:\",\n    \"https:\",\n    \"ftp:\",\n    \"ftps:\",\n    \"mailto:\",\n    \"tel:\",\n    \"#\",\n    \"/\",\n    \"./\",\n    \"../\",\n]);\nexport function createTextVNode(text) {\n    if (text == null || text === false) {\n        return { type: TEXT, props: { nodeValue: \"\" }, key: null };\n    }\n    if (text && typeof text === \"object\" && text._isNixState) {\n        const vnode = {\n            type: TEXT,\n            props: { nodeValue: String(text.value) },\n            key: null,\n            _state: text,\n            _cleanup: null,\n        };\n        vnode._cleanup = text.subscribe(() => {\n            if (vnode._domNode) {\n                vnode._domNode.nodeValue = String(text.value);\n            }\n        });\n        return vnode;\n    }\n    return { type: TEXT, props: { nodeValue: String(text) }, key: null };\n}\nexport function h(type, props = null, ...children) {\n    const normalizedProps = props === null || typeof props !== \"object\" || Array.isArray(props)\n        ? {}\n        : props;\n    const flatChildren = [];\n    for (const c of children.flat(Infinity)) {\n        if (c == null || c === false)\n            continue;\n        if (c && typeof c === \"object\" && \"_isNixState\" in c) {\n            flatChildren.push(createTextVNode(c));\n        }\n        else if (typeof c === \"string\" || typeof c === \"number\") {\n            flatChildren.push(createTextVNode(c));\n        }\n        else if (c && typeof c === \"object\" && \"type\" in c) {\n            if (c.type === Fragment) {\n                const fragmentChildren = (c.props.children || []).filter((x) => x != null && x !== false);\n                flatChildren.push(...fragmentChildren);\n            }\n            else {\n                flatChildren.push(c);\n            }\n        }\n        else if (typeof c === \"function\") {\n            flatChildren.push(c);\n        }\n        else {\n            flatChildren.push(createTextVNode(String(c)));\n        }\n    }\n    const key = normalizedProps.key ?? null;\n    if (key !== undefined)\n        delete normalizedProps.key;\n    if (type === Fragment) {\n        return { type: Fragment, props: { children: flatChildren }, key };\n    }\n    return {\n        type,\n        props: { ...normalizedProps, children: flatChildren },\n        key,\n    };\n}\nh.Fragment = ({ children }) => children || [];\nexport const Fynix = h;\nFynix.Fragment = h.Fragment;\nconst componentInstances = new WeakMap();\nlet rootRenderFn = null;\nconst pendingRerenders = new WeakSet();\nfunction beginComponent(vnode) {\n    let ctx = componentInstances.get(vnode);\n    if (!ctx) {\n        ctx = {\n            hooks: [],\n            hookIndex: 0,\n            effects: [],\n            cleanups: [],\n            _vnode: vnode,\n            _accessedStates: new Set(),\n            _subscriptions: new Set(),\n            _subscriptionCleanups: [],\n            version: 0,\n            rerender: null,\n            Component: vnode.type,\n            _isMounted: false,\n            _isRerendering: false,\n        };\n        componentInstances.set(vnode, ctx);\n    }\n    ctx.hookIndex = 0;\n    ctx._accessedStates.clear();\n    setActiveContext(ctx);\n    ctx.version++;\n    return ctx;\n}\nfunction endComponent() {\n    const ctx = activeContext;\n    if (!ctx)\n        return;\n    ctx._accessedStates.forEach((state) => {\n        if (!ctx._subscriptions.has(state)) {\n            if (!ctx.rerender) {\n                let rerenderTimeout = null;\n                ctx.rerender = function rerender() {\n                    if (ctx._isRerendering || pendingRerenders.has(ctx)) {\n                        return;\n                    }\n                    if (rerenderTimeout) {\n                        clearTimeout(rerenderTimeout);\n                    }\n                    rerenderTimeout = setTimeout(async () => {\n                        if (ctx._isRerendering || !ctx._isMounted)\n                            return;\n                        ctx._isRerendering = true;\n                        pendingRerenders.add(ctx);\n                        try {\n                            removeErrorOverlay();\n                            const vnode = ctx._vnode;\n                            const oldRendered = vnode._rendered;\n                            beginComponent(vnode);\n                            const result = ctx.Component(vnode.props);\n                            const newRendered = result instanceof Promise ? await result : result;\n                            endComponent();\n                            vnode._rendered = newRendered;\n                            const domNode = vnode._domNode;\n                            if (domNode && domNode.parentNode) {\n                                await patch(domNode.parentNode, newRendered, oldRendered);\n                                if (newRendered && typeof newRendered === \"object\") {\n                                    vnode._domNode = newRendered._domNode;\n                                }\n                                ctx._isRerendering = false;\n                                pendingRerenders.delete(ctx);\n                            }\n                            else if (rootRenderFn) {\n                                await rootRenderFn();\n                                ctx._isRerendering = false;\n                                pendingRerenders.delete(ctx);\n                            }\n                            else {\n                                ctx._isRerendering = false;\n                                pendingRerenders.delete(ctx);\n                            }\n                        }\n                        catch (err) {\n                            console.error(\"[Fynix] Component rerender error:\", err);\n                            showErrorOverlay(err);\n                            ctx._isRerendering = false;\n                            pendingRerenders.delete(ctx);\n                        }\n                        rerenderTimeout = null;\n                    }, 0);\n                };\n            }\n            const unsub = state.subscribe(() => {\n                if (ctx.rerender && ctx._isMounted) {\n                    if (typeof queueMicrotask === \"function\") {\n                        queueMicrotask(() => ctx.rerender());\n                    }\n                    else {\n                        setTimeout(ctx.rerender, 0);\n                    }\n                }\n            });\n            ctx._subscriptions.add(state);\n            ctx._subscriptionCleanups.push(unsub);\n        }\n    });\n    setActiveContext(null);\n}\nexport function renderComponent(Component, props = {}) {\n    const vnode = { type: Component, props, key: null };\n    const ctx = beginComponent(vnode);\n    ctx.Component = Component;\n    if (!ctx.rerender) {\n        let rerenderTimeout = null;\n        ctx.rerender = () => {\n            if (ctx._isRerendering || pendingRerenders.has(ctx))\n                return;\n            if (rerenderTimeout) {\n                clearTimeout(rerenderTimeout);\n            }\n            rerenderTimeout = setTimeout(async () => {\n                if (ctx._isRerendering || !ctx._isMounted)\n                    return;\n                ctx._isRerendering = true;\n                pendingRerenders.add(ctx);\n                try {\n                    removeErrorOverlay();\n                    const vnode = ctx._vnode;\n                    const oldRendered = vnode._rendered;\n                    beginComponent(vnode);\n                    const result = ctx.Component(vnode.props);\n                    const newRendered = result instanceof Promise ? await result : result;\n                    endComponent();\n                    vnode._rendered = newRendered;\n                    const domNode = vnode._domNode;\n                    if (domNode && domNode.parentNode) {\n                        await patch(domNode.parentNode, newRendered, oldRendered);\n                        if (newRendered && typeof newRendered === \"object\") {\n                            vnode._domNode = newRendered._domNode;\n                        }\n                        ctx._isRerendering = false;\n                        pendingRerenders.delete(ctx);\n                    }\n                    else if (rootRenderFn) {\n                        await rootRenderFn();\n                        ctx._isRerendering = false;\n                        pendingRerenders.delete(ctx);\n                    }\n                    else {\n                        ctx._isRerendering = false;\n                        pendingRerenders.delete(ctx);\n                    }\n                }\n                catch (err) {\n                    console.error(\"[Fynix] Component rerender error:\", err);\n                    showErrorOverlay(err);\n                    ctx._isRerendering = false;\n                    pendingRerenders.delete(ctx);\n                }\n                rerenderTimeout = null;\n            }, 0);\n        };\n    }\n    try {\n        removeErrorOverlay();\n        const result = Component(props);\n        if (result instanceof Promise) {\n            const placeholderVNode = h(\"div\", null, \"Loading...\");\n            ctx._vnode = vnode;\n            vnode._rendered = placeholderVNode;\n            ctx._isMounted = true;\n            result\n                .then((resolvedVNode) => {\n                vnode._rendered = resolvedVNode;\n                if (ctx.rerender) {\n                    ctx.rerender();\n                }\n            })\n                .catch((err) => {\n                console.error(\"[Fynix] Async component error:\", err);\n                showErrorOverlay(err);\n            });\n            return placeholderVNode;\n        }\n        ctx._vnode = vnode;\n        vnode._rendered = result;\n        ctx._isMounted = true;\n        return result;\n    }\n    catch (err) {\n        console.error(\"[Fynix] Component render error:\", err);\n        showErrorOverlay(err);\n        return h(\"div\", { style: \"color:red\" }, `Error: ${sanitizeErrorMessage(err)}`);\n    }\n    finally {\n        endComponent();\n    }\n}\nconst delegatedEvents = new Map();\nlet eventIdCounter = 1;\nfunction ensureDelegated(eventType) {\n    if (delegatedEvents.has(eventType))\n        return;\n    delegatedEvents.set(eventType, new Map());\n    document.addEventListener(eventType, (e) => {\n        let cur = e.target;\n        while (cur && cur !== document) {\n            if (cur.nodeType !== 1)\n                break;\n            const el = cur;\n            const eid = el._rest_eid;\n            const map = delegatedEvents.get(eventType);\n            if (eid != null && map?.has(eid)) {\n                map.get(eid)(e);\n                return;\n            }\n            cur = cur.parentElement;\n        }\n    });\n}\nfunction registerDelegatedHandler(el, eventName, fn) {\n    if (!fn || el.nodeType !== 1)\n        return;\n    const anyEl = el;\n    const eid = anyEl._rest_eid ?? (anyEl._rest_eid = ++eventIdCounter);\n    ensureDelegated(eventName);\n    delegatedEvents.get(eventName).set(eid, (e) => {\n        try {\n            fn.call(el, e);\n        }\n        catch (err) {\n            console.error(\"[Fynix] Event handler error:\", err);\n            showErrorOverlay(err);\n        }\n    });\n}\nfunction sanitizeText(text) {\n    if (typeof text !== \"string\")\n        return String(text);\n    return text\n        .replace(/[<>\"'&]/g, (match) => {\n        const entityMap = {\n            \"<\": \"&lt;\",\n            \">\": \"&gt;\",\n            '\"': \"&quot;\",\n            \"'\": \"&#x27;\",\n            \"&\": \"&amp;\",\n        };\n        return entityMap[match] || match;\n    })\n        .replace(/javascript:/gi, \"blocked:\")\n        .replace(/data:.*?base64/gi, \"blocked:\");\n}\nfunction sanitizeAttributeValue(value) {\n    if (typeof value !== \"string\")\n        return String(value);\n    return value\n        .replace(/[\"'<>]/g, (match) => {\n        const entityMap = {\n            '\"': \"&quot;\",\n            \"'\": \"&#x27;\",\n            \"<\": \"&lt;\",\n            \">\": \"&gt;\",\n        };\n        return entityMap[match] || match;\n    })\n        .replace(/javascript:/gi, \"blocked:\")\n        .replace(/on\\w+=/gi, \"blocked=\");\n}\nfunction sanitizeErrorMessage(error) {\n    if (!error)\n        return \"Unknown error\";\n    const message = error.message || error.toString() || \"Unknown error\";\n    return sanitizeText(String(message)).slice(0, 200);\n}\nfunction setProperty(el, key, value) {\n    const k = key.toLowerCase();\n    if (key === \"r-class\" || key === \"rc\") {\n        if (typeof value === \"string\") {\n            el.setAttribute(\"class\", value);\n        }\n        else if (value && (value._isNixState || value._isRestState)) {\n            el.setAttribute(\"class\", value.value);\n            const anyEl = el;\n            if (!anyEl._fynixCleanups)\n                anyEl._fynixCleanups = [];\n            const unsub = value.subscribe(() => el.setAttribute(\"class\", value.value));\n            anyEl._fynixCleanups.push(unsub);\n        }\n        return;\n    }\n    if (key.startsWith(\"r-\")) {\n        registerDelegatedHandler(el, key.slice(2).toLowerCase(), value);\n        return;\n    }\n    if (key === \"style\" && typeof value === \"object\") {\n        Object.assign(el.style, value);\n        return;\n    }\n    if (DANGEROUS_HTML_PROPS.has(key)) {\n        console.error(`[Fynix] Security: ${key} is blocked for security reasons. Use textContent or children instead.`);\n        return;\n    }\n    if ((key === \"href\" ||\n        key === \"src\" ||\n        key === \"action\" ||\n        key === \"formaction\") &&\n        typeof value === \"string\") {\n        const normalizedValue = value.trim().toLowerCase();\n        for (const protocol of DANGEROUS_PROTOCOLS) {\n            if (normalizedValue.startsWith(protocol)) {\n                console.error(`[Fynix] Security: ${protocol} protocol blocked in ${key}`);\n                return;\n            }\n        }\n        if (normalizedValue.includes(\":\")) {\n            const protocol = normalizedValue.split(\":\")[0] + \":\";\n            if (!SAFE_PROTOCOLS.has(protocol) &&\n                !SAFE_PROTOCOLS.has(normalizedValue.charAt(0))) {\n                console.error(`[Fynix] Security: Protocol '${protocol}' not in safe list for ${key}`);\n                return;\n            }\n        }\n        if (normalizedValue.startsWith(\"data:\")) {\n            if (normalizedValue.includes(\"javascript\") ||\n                normalizedValue.includes(\"<script\")) {\n                console.error(`[Fynix] Security: Suspicious data: URL blocked in ${key}`);\n                return;\n            }\n        }\n    }\n    if (key.toLowerCase().startsWith(\"on\") && key !== \"open\") {\n        console.error(`[Fynix] Security: Inline event handler '${key}' blocked. Use r-${key.slice(2)} instead.`);\n        return;\n    }\n    if (BOOLEAN_ATTRS.has(k)) {\n        if (value) {\n            el.setAttribute(k, \"\");\n            el[k] = true;\n        }\n        else {\n            el.removeAttribute(k);\n            el[k] = false;\n        }\n        return;\n    }\n    if (DOM_PROPERTIES.has(key) && !DANGEROUS_HTML_PROPS.has(key)) {\n        if (key === \"textContent\" || key === \"innerText\") {\n            el[key] = sanitizeText(value ?? \"\");\n        }\n        else {\n            el[key] = value ?? \"\";\n        }\n        return;\n    }\n    if (key.startsWith(\"data-\") || key.startsWith(\"aria-\")) {\n        if (value != null && value !== false) {\n            el.setAttribute(key, sanitizeAttributeValue(String(value)));\n        }\n        else {\n            el.removeAttribute(key);\n        }\n        return;\n    }\n    if (value != null && value !== false) {\n        el.setAttribute(key, value);\n    }\n}\nasync function createDom(vnode, existing = null) {\n    if (vnode == null) {\n        return document.createTextNode(\"\");\n    }\n    if (typeof vnode === \"string\" || typeof vnode === \"number\") {\n        return document.createTextNode(String(vnode));\n    }\n    if (vnode instanceof Promise) {\n        const placeholder = document.createTextNode(\"Loading...\");\n        vnode\n            .then(async (resolved) => {\n            try {\n                const dom = await createDom(resolved);\n                if (placeholder.parentNode) {\n                    placeholder.replaceWith(dom);\n                }\n            }\n            catch (err) {\n                console.error(\"[Fynix] Async component error:\", err);\n                if (placeholder.parentNode) {\n                    placeholder.textContent = \"Error loading component\";\n                }\n            }\n        })\n            .catch((err) => {\n            console.error(\"[Fynix] Async component promise error:\", err);\n            if (placeholder.parentNode) {\n                placeholder.textContent = \"Error loading async component\";\n            }\n        });\n        return placeholder;\n    }\n    const vnodeObj = vnode;\n    if (vnodeObj.type === TEXT) {\n        const textNode = existing || document.createTextNode(vnodeObj.props.nodeValue ?? \"\");\n        vnodeObj._domNode = textNode;\n        return textNode;\n    }\n    if (vnodeObj.type === Fragment) {\n        const frag = document.createDocumentFragment();\n        for (const child of vnodeObj.props?.children || []) {\n            frag.appendChild(await createDom(child));\n        }\n        vnodeObj._domNode = frag;\n        return frag;\n    }\n    if (typeof vnodeObj.type === \"function\") {\n        const rendered = await renderMaybeAsyncComponent(vnodeObj.type, vnodeObj.props, vnodeObj);\n        vnodeObj._rendered = rendered;\n        const dom = await createDom(rendered);\n        vnodeObj._domNode = dom;\n        return dom;\n    }\n    const el = existing || document.createElement(vnodeObj.type);\n    for (const [k, v] of Object.entries(vnodeObj.props || {})) {\n        if (k !== \"children\") {\n            setProperty(el, k, v);\n        }\n    }\n    for (const child of vnodeObj.props?.children || []) {\n        el.appendChild(await createDom(child));\n    }\n    vnodeObj._domNode = el;\n    return el;\n}\nasync function renderMaybeAsyncComponent(Component, props, vnode) {\n    const ctx = beginComponent(vnode);\n    removeErrorOverlay();\n    try {\n        const result = await Component(props);\n        ctx._vnode = vnode;\n        vnode._rendered = result;\n        ctx._isMounted = true;\n        endComponent();\n        return result ?? null;\n    }\n    catch (err) {\n        console.error(\"[Fynix] async render error:\", err);\n        showErrorOverlay(err);\n        ctx._isMounted = false;\n        endComponent();\n        return h(\"div\", { style: \"color:red\" }, `Error: ${sanitizeErrorMessage(err)}`);\n    }\n}\nexport async function patch(parent, newVNode, oldVNode) {\n    if (!(parent instanceof Node)) {\n        console.error(\"[Fynix] patch() expects a DOM Node, got:\", typeof parent, parent);\n        return;\n    }\n    if (!newVNode && !oldVNode)\n        return;\n    if (!newVNode && oldVNode) {\n        const domNode = oldVNode._domNode;\n        if (domNode?.parentNode) {\n            domNode.parentNode.removeChild(domNode);\n        }\n        unmountVNode(oldVNode);\n        return;\n    }\n    if (newVNode && !oldVNode) {\n        const newDom = await createDom(newVNode);\n        if (newDom instanceof Node) {\n            parent.appendChild(newDom);\n        }\n        return;\n    }\n    const newIsPrimitive = typeof newVNode === \"string\" || typeof newVNode === \"number\";\n    const oldIsPrimitive = typeof oldVNode === \"string\" || typeof oldVNode === \"number\";\n    if (newIsPrimitive || oldIsPrimitive) {\n        if (newIsPrimitive &&\n            oldIsPrimitive &&\n            String(newVNode) === String(oldVNode))\n            return;\n        const newDom = await createDom(newVNode);\n        const oldDom = oldVNode?._domNode || parent.firstChild;\n        if (oldDom?.parentNode && newDom instanceof Node) {\n            oldDom.parentNode.replaceChild(newDom, oldDom);\n        }\n        if (oldVNode && typeof oldVNode === \"object\") {\n            unmountVNode(oldVNode);\n        }\n        return;\n    }\n    const newVN = newVNode;\n    const oldVN = oldVNode;\n    const newType = newVN.type;\n    const oldType = oldVN.type;\n    if (newType !== oldType) {\n        const newDom = await createDom(newVN);\n        const oldDom = oldVN._domNode;\n        if (oldDom?.parentNode && newDom instanceof Node) {\n            oldDom.parentNode.replaceChild(newDom, oldDom);\n        }\n        unmountVNode(oldVN);\n        return;\n    }\n    if (newType === TEXT) {\n        const oldDom = oldVN._domNode;\n        const newText = newVN.props.nodeValue ?? \"\";\n        const oldText = oldVN.props.nodeValue ?? \"\";\n        if (newText !== oldText && oldDom) {\n            oldDom.nodeValue = newText;\n        }\n        newVN._domNode = oldDom;\n        return;\n    }\n    if (newType === Fragment) {\n        const newChildren = newVN.props?.children || [];\n        const oldChildren = oldVN.props?.children || [];\n        await patchChildren(parent, newChildren, oldChildren);\n        newVN._domNode = oldVN._domNode;\n        return;\n    }\n    if (typeof newType === \"function\") {\n        const oldCtx = componentInstances.get(oldVN);\n        if (oldCtx && newType === oldType) {\n            componentInstances.delete(oldVN);\n            componentInstances.set(newVN, oldCtx);\n            oldCtx._vnode = newVN;\n            beginComponent(newVN);\n            const rendered = await oldCtx.Component(newVN.props);\n            endComponent();\n            newVN._rendered = rendered;\n            const oldRendered = oldVN._rendered;\n            const oldDom = oldVN._domNode;\n            if (oldDom?.parentNode instanceof Node) {\n                await patch(oldDom.parentNode, rendered, oldRendered);\n                newVN._domNode = rendered?._domNode || oldDom;\n            }\n        }\n        else {\n            const rendered = await renderMaybeAsyncComponent(newType, newVN.props, newVN);\n            newVN._rendered = rendered;\n            const oldRendered = oldVN._rendered;\n            const oldDom = oldVN._domNode;\n            if (oldDom?.parentNode instanceof Node) {\n                await patch(oldDom.parentNode, rendered, oldRendered);\n                newVN._domNode = rendered?._domNode || oldDom;\n            }\n            else {\n                const newDom = await createDom(rendered);\n                if (parent && newDom instanceof Node) {\n                    parent.appendChild(newDom);\n                }\n                newVN._domNode = newDom;\n            }\n            if (oldCtx && newType !== oldType) {\n                unmountVNode(oldVN);\n            }\n        }\n        return;\n    }\n    const el = oldVN._domNode;\n    if (!el || el.nodeType !== 1) {\n        const newDom = await createDom(newVN);\n        if (parent && newDom instanceof Node) {\n            parent.appendChild(newDom);\n        }\n        unmountVNode(oldVN);\n        return;\n    }\n    updateProps(el, newVN.props, oldVN.props);\n    newVN._domNode = el;\n    const newChildren = newVN.props?.children || [];\n    const oldChildren = oldVN.props?.children || [];\n    await patchChildren(el, newChildren, oldChildren);\n}\nasync function patchChildren(parent, newChildren, oldChildren) {\n    if (!(parent instanceof Node))\n        return;\n    const hasKeys = newChildren.some((c) => c?.key != null) ||\n        oldChildren.some((c) => c?.key != null);\n    if (!hasKeys) {\n        const maxLen = Math.max(newChildren.length, oldChildren.length);\n        for (let i = 0; i < maxLen; i++) {\n            const newChild = newChildren[i];\n            const oldChild = oldChildren[i];\n            if (i >= newChildren.length) {\n                const dom = oldChild?._domNode;\n                if (dom?.parentNode) {\n                    dom.parentNode.removeChild(dom);\n                }\n                unmountVNode(oldChild);\n            }\n            else if (i >= oldChildren.length) {\n                const newDom = await createDom(newChild);\n                if (newDom instanceof Node) {\n                    parent.appendChild(newDom);\n                }\n            }\n            else {\n                await patch(parent, newChild, oldChild);\n            }\n        }\n        return;\n    }\n    const oldKeyMap = new Map();\n    oldChildren.forEach((child) => {\n        if (child?.key != null) {\n            oldKeyMap.set(child.key, child);\n        }\n    });\n    const newKeySet = new Set(newChildren.filter((c) => c?.key != null).map((c) => c.key));\n    oldChildren.forEach((oldChild) => {\n        if (oldChild?.key != null && !newKeySet.has(oldChild.key)) {\n            const dom = oldChild._domNode;\n            if (dom?.parentNode) {\n                dom.parentNode.removeChild(dom);\n            }\n            unmountVNode(oldChild);\n        }\n    });\n    for (let i = 0; i < newChildren.length; i++) {\n        const newChild = newChildren[i];\n        const key = newChild?.key;\n        if (key != null && oldKeyMap.has(key)) {\n            const oldChild = oldKeyMap.get(key);\n            const oldDom = oldChild._domNode;\n            const childNodes = Array.from(parent.childNodes);\n            const currentPos = childNodes.indexOf(oldDom);\n            const desiredPos = i;\n            if (currentPos !== desiredPos) {\n                const refNode = childNodes[desiredPos] || null;\n                if (oldDom && oldDom.parentNode === parent) {\n                    parent.insertBefore(oldDom, refNode);\n                }\n            }\n            await patch(parent, newChild, oldChild);\n        }\n        else {\n            const newDom = await createDom(newChild);\n            if (newDom instanceof Node) {\n                const childNodes = Array.from(parent.childNodes);\n                const refNode = childNodes[i] || null;\n                parent.insertBefore(newDom, refNode);\n            }\n        }\n    }\n}\nfunction unmountVNode(vnode) {\n    if (!vnode)\n        return;\n    if (vnode._cleanup && typeof vnode._cleanup === \"function\") {\n        try {\n            vnode._cleanup();\n        }\n        catch (e) {\n            console.error(\"[Fynix] Text vnode cleanup error:\", e);\n        }\n        vnode._cleanup = null;\n    }\n    if (typeof vnode.type === \"function\") {\n        const ctx = componentInstances.get(vnode);\n        if (ctx) {\n            ctx._isMounted = false;\n            ctx._subscriptionCleanups.forEach((u) => {\n                try {\n                    u();\n                }\n                catch (e) {\n                    console.error(\"[Fynix] Cleanup error:\", e);\n                }\n            });\n            ctx.cleanups.forEach((c) => {\n                try {\n                    c?.();\n                }\n                catch (e) {\n                    console.error(\"[Fynix] Effect cleanup error:\", e);\n                }\n            });\n            ctx._subscriptions.clear();\n            ctx._accessedStates.clear();\n            ctx._subscriptionCleanups = [];\n            ctx.cleanups = [];\n            ctx.hooks = [];\n            ctx.effects = [];\n            ctx.rerender = null;\n            ctx._vnode = null;\n            componentInstances.delete(vnode);\n            pendingRerenders.delete(ctx);\n        }\n        unmountVNode(vnode._rendered);\n        return;\n    }\n    if (vnode._domNode && vnode._domNode.nodeType === 1) {\n        const anyNode = vnode._domNode;\n        const eid = anyNode._rest_eid;\n        if (eid) {\n            delegatedEvents.forEach((map) => map.delete(eid));\n        }\n        if (anyNode._fynixCleanups) {\n            anyNode._fynixCleanups.forEach((cleanup) => {\n                try {\n                    cleanup();\n                }\n                catch (e) {\n                    console.error(\"[Fynix] Element cleanup error:\", e);\n                }\n            });\n            anyNode._fynixCleanups = null;\n        }\n    }\n    if (vnode.props?.children) {\n        vnode.props.children.forEach((c) => unmountVNode(c));\n    }\n    vnode._domNode = null;\n    vnode._rendered = null;\n}\nfunction updateProps(el, newProps = {}, oldProps = {}) {\n    if (!el || el.nodeType !== 1)\n        return;\n    for (const k of Object.keys(oldProps)) {\n        if (k === \"children\")\n            continue;\n        if (!(k in newProps)) {\n            if (k.startsWith(\"r-\")) {\n                const anyEl = el;\n                const eid = anyEl._rest_eid;\n                if (eid && delegatedEvents.has(k.slice(2).toLowerCase())) {\n                    delegatedEvents.get(k.slice(2).toLowerCase()).delete(eid);\n                }\n            }\n            else if (BOOLEAN_ATTRS.has(k.toLowerCase())) {\n                el.removeAttribute(k);\n                el[k] = false;\n            }\n            else if (DOM_PROPERTIES.has(k)) {\n                el[k] = \"\";\n            }\n            else {\n                el.removeAttribute(k);\n            }\n        }\n    }\n    for (const [k, v] of Object.entries(newProps)) {\n        if (k === \"children\")\n            continue;\n        if (oldProps[k] !== v) {\n            setProperty(el, k, v);\n        }\n    }\n}\nexport function mount(AppComponent, root, props = {}) {\n    if (typeof root === \"string\") {\n        const element = document.querySelector(root);\n        if (!element) {\n            console.error(\"[Fynix] Mount error: Element not found for selector:\", root);\n            return;\n        }\n        root = element;\n    }\n    if (!(root instanceof Element)) {\n        console.error(\"[Fynix] Mount error: Invalid root element\", root);\n        return;\n    }\n    let Component = AppComponent;\n    let oldVNode = null;\n    let currentProps = props;\n    let appVNode = null;\n    let isRendering = false;\n    async function renderApp() {\n        if (isRendering)\n            return;\n        isRendering = true;\n        try {\n            removeErrorOverlay();\n            const win = window;\n            const propsToUse = win.__lastRouteProps || win.__fynix__?.lastRouteProps || currentProps;\n            if (!appVNode) {\n                appVNode = { type: Component, props: propsToUse, key: null };\n                if (root instanceof Element) {\n                    root.innerHTML = \"\";\n                    const dom = await createDom(appVNode);\n                    if (dom instanceof Node) {\n                        root.appendChild(dom);\n                    }\n                }\n                else {\n                    console.error(\"[Fynix] Mount error: root is not a DOM Element\", root);\n                    return;\n                }\n                oldVNode = appVNode;\n            }\n            else {\n                appVNode.props = propsToUse;\n                if (root instanceof Node) {\n                    await patch(root, appVNode, oldVNode);\n                    oldVNode = appVNode;\n                }\n                else {\n                    console.error(\"[Fynix] Patch error: root is not a DOM Node\", root);\n                    return;\n                }\n            }\n        }\n        catch (err) {\n            console.error(\"[Fynix] Mount error:\", err);\n            showErrorOverlay(err);\n        }\n        finally {\n            isRendering = false;\n        }\n    }\n    rootRenderFn = renderApp;\n    const win = window;\n    win.__fynix__ = win.__fynix__ || {};\n    win.__fynix__.rerender = renderApp;\n    renderApp();\n    if (import.meta.hot) {\n        if (!win.__fynix__.hmr) {\n            win.__fynix__.hmr = async ({ mod }) => {\n                try {\n                    const UpdatedComponent = mod.App || mod.default;\n                    if (UpdatedComponent) {\n                        Component = UpdatedComponent;\n                        if (appVNode) {\n                            appVNode.type = UpdatedComponent;\n                        }\n                        win.__fynix__.rerender?.();\n                    }\n                }\n                catch (err) {\n                    console.error(\"[Fynix HMR] update error:\", err);\n                    showErrorOverlay(err);\n                }\n            };\n            import.meta.hot.accept();\n        }\n    }\n}\nexport { Button, createFynix, nixAsync, nixAsyncCached, nixAsyncDebounce, nixAsyncQuery, nixCallback, nixComputed, nixDebounce, nixEffect, nixEffectAlways, nixEffectOnce, nixForm, nixFormAsync, nixInterval, nixLazy, nixLazyAsync, nixLazyFormAsync, nixLocalStorage, nixMemo, nixPrevious, nixRef, nixState, nixStore, Path, Suspense, };\n", "import { Fragment } from \"../runtime\";\nexport function For(props) {\n    let items = [];\n    if (props.each && typeof props.each === \"object\" && \"_isNixState\" in props.each) {\n        items = props.each.value;\n    }\n    else if (Array.isArray(props.each)) {\n        items = props.each;\n    }\n    let renderer;\n    if (typeof props.children === \"function\") {\n        renderer = props.children;\n    }\n    else if (Array.isArray(props.children)) {\n        const firstChild = props.children[0];\n        if (typeof firstChild === \"function\") {\n            renderer = firstChild;\n        }\n    }\n    if (!renderer) {\n        if (items.length > 0) {\n            console.warn(\"[Fynix] <For> expects a function as its child. Received:\", typeof props.children);\n        }\n        return { type: Fragment, props: { children: [] }, key: null };\n    }\n    const mapped = items.map((item, index) => {\n        try {\n            return renderer(item, index);\n        }\n        catch (error) {\n            console.error(`[Fynix] Error rendering item at index ${index}:`, error);\n            return {\n                type: \"div\",\n                props: {\n                    children: [\"Error rendering item\"],\n                    style: \"color: red;\"\n                },\n                key: index\n            };\n        }\n    });\n    return { type: Fragment, props: { children: mapped }, key: null };\n}\n"],
  "mappings": "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",
  "names": ["result", "asyncCache", "shallowArrayEqual", "vnode", "newChildren", "oldChildren", "win"]
}
