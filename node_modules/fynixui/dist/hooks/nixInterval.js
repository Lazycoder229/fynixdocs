export function nixInterval(fn, ms, signal) {
    if (typeof fn !== "function") {
        throw new TypeError("nixInterval: first argument must be a function");
    }
    if (typeof ms !== "number" || ms < 0) {
        throw new TypeError("nixInterval: second argument must be a non-negative number");
    }
    const id = setInterval(fn, ms);
    const cancel = () => clearInterval(id);
    if (signal) {
        if (signal.aborted) {
            cancel();
        }
        else {
            const listener = () => {
                cancel();
                signal.removeEventListener("abort", listener);
            };
            signal.addEventListener("abort", listener);
        }
    }
    return cancel;
}
