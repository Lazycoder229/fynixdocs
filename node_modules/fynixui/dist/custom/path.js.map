{
  "version": 3,
  "sources": ["../../custom/path.ts"],
  "sourcesContent": ["/* MIT License\r\n\r\n* Copyright (c) 2026 Resty Gonzales\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in all\r\ncopies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n* SOFTWARE.\r\n */\r\n/**\r\n * @fileoverview Path component for SPA navigation in Fynix applications.\r\n * Provides client-side routing with prop passing between routes.\r\n */\r\n\r\nimport { Fynix, nixState } from \"../runtime.js\";\r\n\r\n/**\r\n * @typedef {Object} PathProps\r\n * @property {string} [to=\"#\"] - URL to navigate to (relative or absolute)\r\n * @property {string} [value=\"\"] - Link text content\r\n * @property {Record<string, any>} [props={}] - Props to pass to the destination route component\r\n * @property {string} [target] - Link target (_blank, _self, etc.)\r\n * @property {string} [rel] - Link relationship (noopener, noreferrer, etc.)\r\n * @property {string} [rc] - Reactive class attribute (Fynix-specific)\r\n * @property {string} [class] - CSS class names\r\n * @property {string} [id] - Element ID\r\n */\r\n\r\n/** Extend Window interface for __fynixLinkProps__ */\r\ndeclare global {\r\n  interface Window {\r\n    __fynixLinkProps__?: Record<string, any>;\r\n  }\r\n}\r\n\r\n/** Unique counter for props keys */\r\nlet propsCounter = 0;\r\n\r\n/**\r\n * SPA navigation link component for Fynix router.\r\n * Automatically handles client-side navigation and prop passing between routes.\r\n *\r\n * @param {PathProps & Record<string, any>} options - Component props\r\n * @returns {VNode} Anchor element virtual node\r\n *\r\n * @example\r\n * // Basic navigation\r\n * <Path to=\"/about\" value=\"About Us\" />\r\n *\r\n * @example\r\n * // Navigate with props\r\n * <Path\r\n *   to=\"/user/123\"\r\n *   value=\"View Profile\"\r\n *   props={{ userId: 123, fromSearch: true }}\r\n * />\r\n *\r\n * @example\r\n * // External link\r\n * <Path\r\n *   to=\"https://github.com\"\r\n *   value=\"GitHub\"\r\n *   target=\"_blank\"\r\n *   rel=\"noopener noreferrer\"\r\n * />\r\n *\r\n * @example\r\n * // With styling\r\n * <Path\r\n *   to=\"/dashboard\"\r\n *   value=\"Dashboard\"\r\n *   rc=\"px-4 py-2 bg-blue-500 text-white rounded\"\r\n * />\r\n */\r\n// Use 'any' as the return type to avoid the VNode type export error\r\nexport function Path({\r\n  to = \"#\",\r\n  value = \"\",\r\n  props: routeProps = {},\r\n  ...attrs\r\n}: {\r\n  to?: string;\r\n  value?: string;\r\n  props?: { [key: string]: any };\r\n  [key: string]: any;\r\n}): any {\r\n  ///console.log(\"[Path Component] Received routeProps:\", routeProps);\r\n\r\n  // Wrap plain props in nixState if not already\r\n  const wrappedProps: { [key: string]: any } = {};\r\n  for (const [k, v] of Object.entries(routeProps as { [key: string]: any })) {\r\n    wrappedProps[k] = v && v._isNixState ? v : nixState(v);\r\n  }\r\n\r\n  // Generate a unique key for this props object\r\n  // FIX: Do not use __ prefix as router blocks it for security\r\n  const propsKey = `fynixProp_${Date.now()}_${propsCounter++}`;\r\n\r\n  // FIX: Store props in the namespace expected by the router\r\n  if (!window.__fynixLinkProps__) {\r\n    window.__fynixLinkProps__ = {};\r\n  }\r\n\r\n  // Debug log\r\n  // console.log(\"[Path] Storage props:\", propsKey, wrappedProps);\r\n\r\n  window.__fynixLinkProps__[propsKey] = wrappedProps;\r\n\r\n  // Create the anchor element\r\n  const el = Fynix(\r\n    \"a\",\r\n    {\r\n      href: to,\r\n      \"data-fynix-link\": true, // SPA link detection\r\n      \"data-props-key\": propsKey,\r\n      ...attrs,\r\n    },\r\n    value\r\n  );\r\n\r\n  return el;\r\n}\r\n"],
  "mappings": ";;AA2BA,SAAS,OAAO,gBAAgB;AAsBhC,IAAI,eAAe;AAuCZ,SAAS,KAAK;AAAA,EACnB,KAAK;AAAA,EACL,QAAQ;AAAA,EACR,OAAO,aAAa,CAAC;AAAA,EACrB,GAAG;AACL,GAKQ;AAIN,QAAM,eAAuC,CAAC;AAC9C,aAAW,CAAC,GAAG,CAAC,KAAK,OAAO,QAAQ,UAAoC,GAAG;AACzE,iBAAa,CAAC,IAAI,KAAK,EAAE,cAAc,IAAI,SAAS,CAAC;AAAA,EACvD;AAIA,QAAM,WAAW,aAAa,KAAK,IAAI,CAAC,IAAI,cAAc;AAG1D,MAAI,CAAC,OAAO,oBAAoB;AAC9B,WAAO,qBAAqB,CAAC;AAAA,EAC/B;AAKA,SAAO,mBAAmB,QAAQ,IAAI;AAGtC,QAAM,KAAK;AAAA,IACT;AAAA,IACA;AAAA,MACE,MAAM;AAAA,MACN,mBAAmB;AAAA;AAAA,MACnB,kBAAkB;AAAA,MAClB,GAAG;AAAA,IACL;AAAA,IACA;AAAA,EACF;AAEA,SAAO;AACT;AA9CgB;",
  "names": []
}
